<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DAVID: INFO ARCHITECT</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .blog-link {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .blog-link a {
            display: inline-block;
            padding: 10px 15px;
            color: black;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .blog-link a:hover {
          color:#dbdf00;
        }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* --- NEW INTEGRATED SEARCH/CHAT STYLES --- */
    .search-container {
        text-align: center;
        margin-bottom: 20px;
        display: flex;
        justify-content: center;
        gap: 10px; 
    }

    #search-input {
        padding: 12px 18px; 
        width: 450px; 
        border: 1px solid #ddd;
        border-radius: 25px; 
        outline: none;
        font-size: 1rem;
        flex-grow: 1; /* Allows it to take up available space */
        max-width: 600px;
    }

    #search-input:focus {
        border-color: #6c63ff;
        box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.2);
    }

    .search-send-btn {
        padding: 12px 18px;
        background-color: #6c63ff;
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: background-color 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .search-send-btn:hover {
        background-color: #574fe3;
    }
    
    /* The new area where chatbot responses and quick prompts live */
    .chatbot-response-container {
        max-width: 650px;
        margin: 0 auto 30px auto;
        padding: 15px;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    #responseDisplay {
        margin-top: 15px;
        padding: 15px;
        border-left: 4px solid #dbdf00;
        background-color: #f9f9f9;
        color: #333;
        line-height: 1.6;
        min-height: 20px;
        white-space: pre-wrap; /* For line breaks */
        border-radius: 4px;
        font-size: 0.95rem;
    }

    /* Quick Prompts */
    .quick-prompt-btn {
        padding: 6px 10px;
        font-size: 11px;
        font-weight: 500;
        color: #6366f1;
        background-color: #e0e7ff;
        border: none;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
    }

    .quick-prompt-btn:hover {
        background-color: #c7d2fe;
        color: #4f46e5;
    }


    h1 {
      color: #333;
      text-align: center;
    }
    
    #graph-container {
      width: 100%;
      height: 700px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      position: relative;
    }
    
    .info-panel {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      max-width: 350px;
      display: none;
    }
    
    .node {
      cursor: pointer;
      stroke-width: 2px;
    }
    
    .link {
      stroke: #999;
      stroke-opacity: 0.6;
    }
    
    .link-label {
      font-size: 10px;
      fill: #555;
    }
    
    .filters {
      margin: 20px 0;
      text-align: center;
    }
    
    .filter-btn {
      background-color: #fff;
      border: 1px solid #ddd;
      padding: 8px 15px;
      margin: 0 5px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .filter-btn:hover, .filter-btn.active {
      background-color: #6c63ff;
      color: white;
      border-color: #6c63ff;
    }
    
   /* Sticky Notes Styles */
    .sticky-notes {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 180px;
      flex-wrap: wrap;
    }
    
    .sticky-note {
      background-color: #ffeb3b;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 3px 3px 5px rgba(0,0,0,0.1);
      width: 280px;
      position: relative;
      transform: rotate(-1deg);
      transition: all 0.3s ease;
    }
    
    .sticky-note:hover {
      transform: rotate(0deg) scale(1.05);
    }
    
    .sticky-note:nth-child(2) {
      transform: rotate(1deg);
    }
    
    .sticky-note.email {
      background-color: #64ffda;
      transform: rotate(1deg);
    }
    
    .sticky-note a {
      color: #333;
      text-decoration: none;
      font-weight: bold;
    }
    
    .sticky-note a:hover {
      text-decoration: underline;
    }
    
    .close-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      background: none;
      border: none;
      color: #555;
      cursor: pointer;
      font-size: 18px;
      padding: 0;
      width: 20px;
      height: 20px;
      line-height: 1;
    }
    
    .close-btn:hover {
      color: #000;
    }

    /* Enhanced formatting */
    .sticky-note .main-link {
      font-size: 17px;
      font-weight: 600;
      color: #2d3436;
      margin-bottom: 12px;
      line-height: 1.4;
      display: block;
    }

    .sticky-note p {
      margin: 12px 0;
      line-height: 1.5;
      color: #2d3436;
      font-size: 14px;
    }

    .sticky-note .greeting {
      font-size: 16px;
      font-weight: 600;
      color: #2d3436;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .sticky-note .links-section {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    .sticky-note .link-item {
      background: rgba(255, 255, 255, 0.4);
      padding: 12px 14px;
      border-radius: 4px;
      text-decoration: none;
      color: #2d3436;
      font-weight: 500;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
      display: block;
      font-size: 14px;
    }

    .sticky-note .link-item:hover {
      background: rgba(255, 255, 255, 0.7);
      border-left-color: #00897b;
      transform: translateX(3px);
      text-decoration: none;
    }

    .sticky-note.email .link-item:hover {
      border-left-color: #00897b;
    }

    .sticky-note .link-item::before {
      content: '→ ';
      margin-right: 6px;
      font-weight: bold;
      color: #00897b;
    }

    @media (max-width: 900px) {
      .sticky-notes {
        flex-direction: column;
        align-items: center;
      }
    
  </style>
</head>
<body><div class="header">
  <div class="blog-link">
      <a href="https://grad.substack.com" target="_blank">blog</a>
      <a href="https://podcasts.apple.com/us/podcast/co-design-with-mom-users-who-matter-most/id1817758084" target="_blank">podcast</a>
      <a href="mailto:email@daviddot.com" class="link-button">contact</a>
       
  </div>
</div>
<div class="container">
  <h1>David Taylor's Knowledge Graph</h1>
 <div class="sticky-notes">
    <div class="sticky-note" id="disney-sticky">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">&times;</button>
      <p class="greeting">
        <strong>Winter Update: World Information Architecture Association Lecture</strong>
      </p>
      <p>Presented "Designing for My Mom," a talk on empathy-driven human-centered design using personal usability testing with non-technical users.</p>
      <div class="links-section">
        <a href="https://vimeo.com/1139636394" target="_blank" class="link-item">Watch the lecture on Vimeo</a>
      </div>
    </div>

<div class="sticky-note" id="pokemon-sticky">
  <button class="close-btn" onclick="this.parentElement.style.display='none'">&times;</button>
  <p class="greeting">
    <strong>Pokémon Taxonomy Tool</strong>
  </p>
  <p>Explore Pokémon classifications where everything rendered is a clickable filter.</p>
  <div class="links-section">
    <a href="taxonomy.html" target="_blank" class="link-item">Explore the taxonomy tool</a>
    <a href="poke.html" target="_blank" class="link-item">International Pokémon quiz</a>
    <details>
      <summary class="link-item" style="cursor: pointer; list-style: none;">Additional Tools</summary>
      <div style="padding-left: 20px; margin-top: 8px;">
        <a href="algori.html" target="_blank" class="link-item">Pokemon Similarity Groups</a>
        <a href="https://davidtaylor.neocities.org/quiz/quizhard" target="_blank" class="link-item">Name the Pokemon</a>
         <a href="https://davidtaylor.neocities.org/" target="_blank" class="link-item">Pokemon Sprite Colors</a>
        <a href="vectors.html" target="_blank" class="link-item">Python Script Line Art</a>
      </div>
    </details>
  </div>
</div>

    <div class="sticky-note email" id="email-sticky">
      <button class="close-btn" onclick="this.parentElement.style.display='none'">&times;</button>
      <p class="greeting">
        <strong>Glad we met at Information Architecture Conference 2025!</strong>
      </p>
      <div class="links-section">
        <a href="fhe.html" target="_blank" class="link-item">Discover your favorite group activities through this interactive Street Fighter-esque survey</a>
        <a href="wip.html" target="_blank" class="link-item">Future projects</a>
      </div>
    </div>  </div>

<div class="search-container">
    <input 
        type="text" 
        id="search-input" 
        placeholder="Ask about David's experience (e.g., 'technical skills') or search nodes..."
    >
    <button 
        id="sendButton" 
        class="search-send-btn"
        title="Send query to Assistant"
    >
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
        </svg>
    </button>
</div>

<div id="chatbotResponseContainer" class="chatbot-response-container">
    <div id="quickPrompts" class="flex flex-wrap gap-2 justify-center"></div>
    <div id="responseDisplay" class="response-display"></div>
</div>

<script>
    const resumeFacts = [
        { id: 1, action: "Compliance & Governance", context: "Deloitte (GDPR Workflows)", outcome: "Reduced Fines by $500K+", result: "Labeled personal data deletion workflows across global media websites, ensuring GDPR compliance and reducing potential fines by $500K–$1M+.", tags: ["profit", "fortune100", "consulting"], company: "Deloitte" },
        { id: 2, action: "Cross-functional Collaboration", context: "Deloitte (OneTrust Automation)", outcome: "Saved Hundreds of Staff Hours", result: "Project-managed engineers and legal teams to implement automated OneTrust workflows, replacing manual email requests and saving hundreds of staff hours.", tags: ["time-savings", "managing-others", "fortune100", "consulting"], company: "Deloitte" },
        { id: 3, action: "Stakeholder Communication", context: "Deloitte (Regulator Transparency)", outcome: "Enhanced Clarity/Transparency", result: "Edited privacy program documentation and client presentations, enhancing clarity and supporting regulator-facing transparency.", tags: ["fortune100", "consulting", "c-suite"], company: "Deloitte" },
        { id: 11, action: "Management Consulting", context: "Deloitte (C-Suite Fortune 100)", outcome: "Advised Fortune 100 Executives", result: "Consulted with C-suite executives at Fortune 100 media companies on data privacy strategies, translating complex regulatory requirements into actionable business recommendations.", tags: ["consulting", "c-suite", "fortune100"], company: "Deloitte" },
        { id: 12, action: "Global Team Coordination", context: "Deloitte (Multi-Timezone Projects)", outcome: "Seamless Cross-Continent Delivery", result: "Coordinated project deliverables across US, EU, and APAC time zones, ensuring 24/7 workflow continuity and meeting aggressive client deadlines for Fortune 100 media organizations.", tags: ["time-zone", "fortune100", "consulting"], company: "Deloitte" },
        { id: 13, action: "Executive Presentation Design", context: "Deloitte (Client Deliverables)", outcome: "C-Suite-Ready Decks", result: "Designed polished PowerPoint presentations and visual reports for C-suite stakeholders, distilling complex data privacy concepts into executive-friendly narratives.", tags: ["c-suite", "consulting", "fortune100"], company: "Deloitte" },
        { id: 4, action: "Cross-functional Collaboration", context: "Disney (Global Safety Comms)", outcome: "Reached 200,000+ Employees", result: "Developed multilingual safety, security, and crisis materials—including posters, blogs, emails, and graphics—for 200,000+ employees globally.", tags: ["fortune100", "time-zone"], company: "Disney" },
        { id: 14, action: "Stakeholder Communication", context: "Disney (Global Internal Comms)", outcome: "Unified Crisis Messaging", result: "Crafted crisis communication materials for Disney's Global Security team, ensuring consistent messaging across 200,000+ employees in multiple languages and time zones.", tags: ["fortune100", "time-zone"], company: "Disney" },
        { id: 5, action: "Data Structuring & Analysis", context: "Pokemon Semantic Data Tools (AI)", outcome: "Built 1,025 Pokémon Framework", result: "Built a semantic ontology and linked data framework for 1,025 Pokémon, using custom AI programs to query weighted attributes for filtering and analysis.", tags: ["technical"], company: "Personal Project" },
        { id: 6, action: "Data Structuring & Analysis", context: "UW iSchool (Ontology Design)", outcome: "Structured Recommendations", result: "Developed a café menu ontology in PoolParty using SKOS for structured recommendations and improved discoverability.", tags: ["technical"], company: "University of Washington" },
        { id: 7, action: "Process & Efficiency Optimization", context: "Microsoft (Power BI Adoption)", outcome: "Cut Report Creation Time 15–20%", result: "Conducted UX research and affinity mapping on Power BI adoption, generating insights that cut report creation time 15–20%.", tags: ["time-savings", "fortune100"], company: "Microsoft" },
        { id: 8, action: "Stakeholder Communication", context: "Rutgers & WIAD (Guest Lecture)", outcome: "Empathy-Driven Design Talk", result: "Presented 'Designing for My Mom,' a talk on empathy-driven human-centered design using personal usability testing with non-technical users.", tags: [], company: "Speaking Engagement" },
        { id: 9, action: "Education (M.S.)", context: "University of Washington (M.S.)", outcome: "M.S. Degree Completion (2022)", result: "Completed Master of Science in Information Management (2022).", tags: [], company: "University of Washington"},
        { id: 10, action: "Education (B.A.)", context: "Brigham Young University (B.A.)", outcome: "B.A. Degree Completion (2016)", result: "Completed Bachelor of Arts in Advertising (2016).", tags: [], company: "Brigham Young University"},
    ];

    const quickPrompts = [
        "Fortune 100 experience",
        "Cost savings delivered",
        "Management consulting",
        "Technical skills",
        "Multi-timezone work",
        "C-suite experience"
    ];

    let lastResponse = "Hi! I'm David Taylor's AI assistant. Ask me anything about David's experience, skills, or achievements. Try clicking a quick prompt or typing a question!";

    function generateResponse(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        if (lowerMessage.includes('fortune 100') || lowerMessage.includes('fortune100')) {
            const fortune100Facts = resumeFacts.filter(f => f.tags.includes('fortune100'));
            const companies = [...new Set(fortune100Facts.map(f => f.company))].filter(c => !c.includes('University'));
            return `David has extensive Fortune 100 experience with **${companies.join(', ')}**:\n\n${fortune100Facts.slice(0, 3).map(f => `• **${f.company}**: ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('cost') || lowerMessage.includes('profit') || lowerMessage.includes('savings') || lowerMessage.includes('money')) {
            const profitFacts = resumeFacts.filter(f => f.tags.includes('profit') || f.tags.includes('time-savings'));
            return `David has delivered significant cost savings:\n\n${profitFacts.map(f => `• **${f.outcome}** at ${f.company}: ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('consulting') || lowerMessage.includes('deloitte')) {
            const consultingFacts = resumeFacts.filter(f => f.tags.includes('consulting'));
            return `David's management consulting experience includes:\n\n${consultingFacts.map(f => `• **${f.action}**: ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('c-suite') || lowerMessage.includes('executive')) {
            const csuiteFacts = resumeFacts.filter(f => f.tags.includes('c-suite'));
            return `David has worked directly with C-suite executives:\n\n${csuiteFacts.map(f => `• ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('technical') || lowerMessage.includes('tech') || lowerMessage.includes('data')) {
            const techFacts = resumeFacts.filter(f => f.tags.includes('technical'));
            return `David's technical skills include:\n\n${techFacts.map(f => `• **${f.action}**: ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('disney')) {
            const disneyFacts = resumeFacts.filter(f => f.company === 'Disney');
            return `At Disney, David:\n\n${disneyFacts.map(f => `• ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('microsoft')) {
            const msftFacts = resumeFacts.filter(f => f.company === 'Microsoft');
            return `At Microsoft, David:\n\n${msftFacts.map(f => `• ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('education') || lowerMessage.includes('degree') || lowerMessage.includes('school')) {
            return `**Education:**\n\n• Master of Science in Information Management from University of Washington (2022)\n• Bachelor of Arts in Advertising from Brigham Young University (2016)`;
        }
        
        if (lowerMessage.includes('timezone') || lowerMessage.includes('global') || lowerMessage.includes('international')) {
            const tzFacts = resumeFacts.filter(f => f.tags.includes('time-zone'));
            return `David has experience with multi-timezone work:\n\n${tzFacts.map(f => `• ${f.result}`).join('\n\n')}`;
        }
        
        if (lowerMessage.includes('skill') || lowerMessage.includes('abilities')) {
            const skills = [...new Set(resumeFacts.filter(f => !f.action.startsWith('Education')).map(f => f.action))];
            return `David's key transferable skills include:\n\n${skills.map(s => `• ${s}`).join('\n')}`;
        }
        
        if (lowerMessage.includes('company') || lowerMessage.includes('companies') || lowerMessage.includes('where')) {
            const companies = [...new Set(resumeFacts.map(f => f.company).filter(c => !c.includes('University') && c !== 'Speaking Engagement' && c !== 'Personal Project'))];
            return `David has worked with: **${companies.join(', ')}**\n\nHe also completed projects at University of Washington, delivered speaking engagements, and built personal technical projects.`;
        }

        if (lowerMessage.includes('manage') || lowerMessage.includes('leadership')) {
            const manageFacts = resumeFacts.filter(f => f.tags.includes('managing-others'));
            return `David has management and leadership experience:\n\n${manageFacts.map(f => `• ${f.result}`).join('\n\n')}`;
        }
        
        const randomFact = resumeFacts[Math.floor(Math.random() * resumeFacts.length)];
        return `Here's an interesting achievement:\n\n**${randomFact.action}** at ${randomFact.company}: ${randomFact.result}\n\nWhat else would you like to know?`;
    }

    function formatContent(content) {
        // Replace new line characters with <br> for better formatting in HTML
        const contentWithBreaks = content.replace(/\n/g, '<br>');

        // Apply strong tag to text wrapped in **
        return contentWithBreaks.split('**').map((part, i) => 
            i % 2 === 0 ? part : `<strong>${part}</strong>`
        ).join('');
    }
    
    function displayResponse(content) {
        const display = document.getElementById('responseDisplay');
        display.innerHTML = formatContent(content);
    }

    async function handleSend() {
        const input = document.getElementById('search-input');
        const message = input.value.trim();
        
        // Use a simple heuristic: if the message starts with "search" or is very short, assume it was intended for the graph
        if (!message || message.toLowerCase().startsWith('search nodes')) {
             displayResponse('Please enter a full question for the assistant, or start typing in the bar to search the graph.');
             return;
        }

        // Display "thinking" message immediately
        displayResponse('Assistant is thinking...');
        
        input.value = ''; // Clear input immediately
        
        // Simulate thinking time
        await new Promise(resolve => setTimeout(resolve, 800));
        
        const response = generateResponse(message);
        lastResponse = response;
        displayResponse(response);
    }

    function renderQuickPrompts() {
        const container = document.getElementById('quickPrompts');
        container.innerHTML = quickPrompts.map(prompt => `
            <button 
                onclick="document.getElementById('search-input').value = '${prompt}'; handleSend();"
                class="quick-prompt-btn"
            >
                ${prompt}
            </button>
        `).join('');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        const input = document.getElementById('search-input');
        const sendButton = document.getElementById('sendButton');
        
        displayResponse(lastResponse);
        renderQuickPrompts();
        
        sendButton.addEventListener('click', handleSend);
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend();
        });
        
        // The existing graph search logic remains on the 'input' event
        input.addEventListener('input', function(e) {
          const searchTerm = e.target.value.toLowerCase();
          
          if (searchTerm === '') {
            // Show all nodes if search is empty
            node.style('opacity', 1);
            link.style('opacity', 0.6);
            nodeText.style('opacity', 1);
            linkText.style('opacity', 1);
            return;
          }
          
          // Find matching nodes
          const matchingNodes = graphData.nodes.filter(n => 
            n.caption.toLowerCase().includes(searchTerm) || 
            (n.details && n.details.toLowerCase().includes(searchTerm))
          ).map(n => n.id);
          
          // Highlight matching nodes and their connections
          node.style('opacity', d => matchingNodes.includes(d.id) ? 1 : 0.2);
          nodeText.style('opacity', d => matchingNodes.includes(d.id) ? 1 : 0.2);
          
          link.style('opacity', d => 
            matchingNodes.includes(d.source.id) && matchingNodes.includes(d.target.id) ? 0.8 : 0.1
          );
          
          linkText.style('opacity', d => 
            matchingNodes.includes(d.source.id) && matchingNodes.includes(d.target.id) ? 1 : 0.1
          );
        });
    });
</script>
    
    <div class="filters">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="education">Education</button>
      <button class="filter-btn" data-filter="work">Work Experience</button>
      <button class="filter-btn" data-filter="skills">Skills</button>
      <button class="filter-btn" data-filter="personal">Personal</button>
    </div>
    
    <div id="graph-container">
      <div class="info-panel" id="info-panel">
        <h3 id="node-title">Node Title</h3>
        <p id="node-details">Details about this node will appear here when you click on a node.</p>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
  <script>
     // Add sticky note close functionality
     document.querySelectorAll('.close-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        this.parentElement.style.display = 'none';
      });
    });
    // Parse the graph data
    const graphData = {
      nodes: [
        {id: "n0", caption: "David", group: "personal", details: "Central person in this knowledge graph."},
        {id: "n1", caption: "College Graduate", group: "education", details: "David is a college graduate with degrees from multiple institutions."},
        {id: "n3", caption: "Pokemon Taxonomy", group: "projects", details: "A project David worked on involving Pokemon classification."},
        {id: "n4", caption: "Engineer", group: "career", details: "David is not an engineer and does not know any programming languages."},
        {id: "n5", caption: "Phone calls", group: "communication", details: "David replies to phone calls."},
        {id: "n6", caption: "iSchool", group: "education", details: "The UW School of Information where David studied."},
        {id: "n7", caption: "University of Washington", group: "education", details: "University where David received his M.S."},
        {id: "n8", caption: "Seattle", group: "location", details: "City where University of Washington is located."},
        {id: "n9", caption: "College of Fine Arts & Communications", group: "education", details: "College at BYU where David studied."},
        {id: "n10", caption: "BYU", group: "education", details: "Brigham Young University, where David received his B.A."},
        {id: "n11", caption: "Utah", group: "location", details: "State where BYU is located."},
        {id: "n12", caption: "M.S.", group: "education", details: "Master of Science degree earned by David."},
        {id: "n13", caption: "B.A.", group: "education", details: "Bachelor of Arts degree earned by David."},
        {id: "n14", caption: "Advertising Copywriting", group: "skills", details: "A skill David studied at the College of Fine Arts & Communications."},
        {id: "n15", caption: "Media Effects", group: "skills", details: "A skill David studied at the College of Fine Arts & Communications."},
        {id: "n16", caption: "Qualitative Research", group: "skills", details: "A skill David studied at the College of Fine Arts & Communications."},
        {id: "n17", caption: "Media Ethics", group: "skills", details: "A skill David studied at the College of Fine Arts & Communications."},
        {id: "n18", caption: "UX Research", group: "skills", details: "A major skill David studied at the iSchool and worked on at Microsoft."},
        {id: "n19", caption: "Policy & Ethics", group: "skills", details: "A skill David studied at the iSchool and worked on at Deloitte."},
        {id: "n20", caption: "Management", group: "skills", details: "A skill David studied at the iSchool and worked on at Deloitte."},
        {id: "n21", caption: "Info Architecture", group: "skills", details: "A skill David studied at the iSchool."},
        {id: "n22", caption: "Deloitte", group: "work", details: "A company where David worked."},
        {id: "n23", caption: "Trust & Privacy", group: "skills", details: "A skill David learned at Deloitte."},
        {id: "n24", caption: "Program Management", group: "skills", details: "A skill David learned at Deloitte."},
        {id: "n25", caption: "Orange County", group: "location", details: "Location where David was transferred with Deloitte."},
        {id: "n29", caption: "the beach", group: "personal", details: "A place near Orange County."},
        {id: "n30", caption: "John Wayne", group: "location", details: "David's favorite airport in Orange County."},
        {id: "n32", caption: "Disney Corporate", group: "work", details: "Company where David interned from BYU."},
        {id: "n34", caption: "Burbank", group: "location", details: "Location of Disney Corporate."},
        {id: "n35", caption: "Crisis Communications", group: "skills", details: "A skill David learned at Disney Corporate."},
        {id: "n36", caption: "Global Security", group: "skills", details: "A skill David learned at Disney Corporate."},
        {id: "n38", caption: "Microsoft", group: "work", details: "Company David worked with through University of Washington."},
        {id: "n39", caption: "In-N-Out", group: "personal", details: "David's favorite restaurant in Orange County."},
        {id: "n40", caption: "Disneyland", group: "work", details: "David's favorite place in Orange County and where he had a summer job."},
        {id: "n41", caption: "QSR cashier", group: "work", details: "David's summer job at Disneyland."},
        {id: "n42", caption: "Experience Design", group: "skills", details: "A skill David learned at Disneyland."},
        {id: "n43", caption: "Daily Universe Newspaper", group: "work", details: "David worked here while at BYU."},
        {id: "n44", caption: "Project Management", group: "skills", details: "A skill David learned at the Daily Universe Newspaper."},
        {id: "n45", caption: "Print Design", group: "skills", details: "A skill David learned at the Daily Universe Newspaper."},
        {id: "n46", caption: "Customer Service", group: "skills", details: "A skill David learned as a QSR cashier."},
        {id: "n47", caption: "AI prompts", group: "skills", details: "A skill David learned working on Pokemon Taxonomy using Claude AI and ChatGPT."},
        {id: "n48", caption: "Web dev", group: "skills", details: "A skill David learned working on Pokemon Taxonomy."},
        {id: "n49", caption: "Cafe Menu", group: "projects", details: "A project David worked on via the iSchool."},
        {id: "n50", caption: "PoolParty", group: "skills", details: "A skill David learned working on Cafe Menu for his taxonomy class."},
        {id: "n51", caption: "Prototypes", group: "projects", details: "Many group projects David worked on via the iSchool."},
        {id: "n52", caption: "Contextual Inquiry", group: "skills", details: "A skill David learned working on Prototypes via the iSchool."},
        {id: "n53", caption: "Balsamiq", group: "skills", details: "A skill David learned working on Prototypes."},
        {id: "n54", caption: "System Thinking", group: "skills", details: "A skill David learned working on Prototypes via the iSchool."},
        {id: "n55", caption: "Lean Canvas", group: "skills", details: "A skill David learned via the iSchool."},
        {id: "n56", caption: "Service Design", group: "skills", details: "A skill related to David's Designing Information Experiences graduate coursework."},
        {id: "n57", caption: "Auditor", group: "career", details: "David is not an auditor and has never taken a course in accounting, finance, or Excel."},
        {id: "n58", caption: "Lawyer", group: "career", details: "David is not a lawyer no matter how many recruiters message him about legal positions."},
        {id: "n59", caption: "Video chats", group: "communication", details: "David replies to video chats."},
        {id: "n60", caption: "Humanist", group: "personal", details: "David is a scholar of the humanities."},
        {id: "n61", caption: "Creative", group: "personal", details: "David is a creative, not just a trait."}
      ],
      links: [
        {source: "n0", target: "n1", type: "is_a"},
        {source: "n0", target: "n3", type: "worked_on"},
        {source: "n0", target: "n4", type: "is_not_a"},
        {source: "n0", target: "n5", type: "replies_to"},
        {source: "n1", target: "n6", type: "from"},
        {source: "n6", target: "n7", type: "at"},
        {source: "n7", target: "n8", type: "in"},
        {source: "n1", target: "n9", type: "from"},
        {source: "n9", target: "n10", type: "at"},
        {source: "n10", target: "n11", type: "in"},
        {source: "n1", target: "n12", type: "received"},
        {source: "n12", target: "n7", type: "from"},
        {source: "n1", target: "n13", type: "received"},
        {source: "n13", target: "n10", type: "from"},
        {source: "n9", target: "n14", type: "studied"},
        {source: "n9", target: "n15", type: "studied"},
        {source: "n9", target: "n16", type: "studied"},
        {source: "n9", target: "n17", type: "studied"},
        {source: "n6", target: "n18", type: "studied"},
        {source: "n6", target: "n19", type: "studied"},
        {source: "n6", target: "n20", type: "studied"},
        {source: "n6", target: "n21", type: "studied"},
        {source: "n7", target: "n22", type: "was recruited"},
        {source: "n22", target: "n8", type: "in"},
        {source: "n22", target: "n20", type: "worked in"},
        {source: "n22", target: "n19", type: "worked in"},
        {source: "n22", target: "n23", type: "learned"},
        {source: "n22", target: "n24", type: "learned"},
        {source: "n22", target: "n25", type: "transferred"},
        {source: "n25", target: "n29", type: "near"},
        {source: "n25", target: "n30", type: "favorite airport"},
        {source: "n32", target: "n34", type: "in"},
        {source: "n7", target: "n38", type: "capstone"},
        {source: "n10", target: "n32", type: "interned"},
        {source: "n32", target: "n35", type: "learned"},
        {source: "n32", target: "n36", type: "learned"},
        {source: "n38", target: "n18", type: "worked iin"},
        {source: "n25", target: "n39", type: "favorite restaurant"},
        {source: "n25", target: "n40", type: "favorite place"},
        {source: "n40", target: "n41", type: "summer job"},
        {source: "n32", target: "n40", type: "free admission to"},
        {source: "n40", target: "n42", type: "learned"},
        {source: "n10", target: "n43", type: "worked"},
        {source: "n43", target: "n44", type: "learned"},
        {source: "n43", target: "n45", type: "learned"},
        {source: "n41", target: "n46", type: "learned"},
        {source: "n3", target: "n47", type: "learned"},
        {source: "n3", target: "n48", type: "learned"},
        {source: "n0", target: "n49", type: "worked on"},
        {source: "n49", target: "n6", type: "via"},
        {source: "n49", target: "n50", type: "learned"},
        {source: "n0", target: "n51", type: "worked on"},
        {source: "n51", target: "n52", type: "learned"},
        {source: "n51", target: "n53", type: "learned"},
        {source: "n51", target: "n54", type: "learned"},
        {source: "n51", target: "n6", type: "via"},
        {source: "n51", target: "n55", type: "learned"},
        {source: "n51", target: "n56", type: "learned"},
        {source: "n0", target: "n57", type: "is_not_a"},
        {source: "n0", target: "n58", type: "is_not_a"},
        {source: "n0", target: "n59", type: "replies to"},
        {source: "n0", target: "n60", type: "is_a"},
        {source: "n0", target: "n61", type: "is_a"}
      ]
    };

    // Group nodes for filtering
    const nodeCategories = {
      "education": ["n1", "n6", "n7", "n8", "n9", "n10", "n11", "n12", "n13"],
      "work": ["n22", "n32", "n38", "n40", "n41", "n43"],
      "skills": ["n14", "n15", "n16", "n17", "n18", "n19", "n20", "n21", "n23", "n24", "n35", "n36", "n42", "n44", "n45", "n46", "n47", "n48", "n50", "n52", "n53", "n54", "n55", "n56"],
      "personal": ["n0", "n29", "n39", "n60", "n61"]
    };

    // Create a force-directed graph
    const width = document.getElementById('graph-container').clientWidth;
    const height = document.getElementById('graph-container').clientHeight;

    const svg = d3.select('#graph-container')
      .append('svg')
      .attr('width', width)
      .attr('height', height);

    // Define node colors based on groups
    const colorScale = d3.scaleOrdinal()
      .domain(['personal', 'education', 'work', 'skills', 'projects', 'career', 'communication', 'location'])
      .range(['#ffffff', '#dbdf00', '#aea1ff', '#fcdc00', '#68ccca', '#f44e3b', '#68ccca', '#4a90e2']);

    // Create a simulation for positioning nodes
    const simulation = d3.forceSimulation()
      .force('link', d3.forceLink().id(d => d.id).distance(100))
      .force('charge', d3.forceManyBody().strength(-200))
      .force('center', d3.forceCenter(width / 2, height / 2))
      .force('collision', d3.forceCollide().radius(50));

    // Create links
    const link = svg.append('g')
      .selectAll('line')
      .data(graphData.links)
      .enter()
      .append('line')
      .attr('class', 'link')
      .attr('stroke-width', 2);

    // Add relationship labels
    const linkText = svg.append('g')
      .selectAll('text')
      .data(graphData.links)
      .enter()
      .append('text')
      .attr('class', 'link-label')
      .attr('dy', -5)
      .attr('text-anchor', 'middle')
      .text(d => d.type);

    // Create nodes
    const node = svg.append('g')
      .selectAll('circle')
      .data(graphData.nodes)
      .enter()
      .append('circle')
      .attr('class', 'node')
      .attr('r', d => {
        // Give different sizes based on importance
        if (d.id === 'n0') return 25; // David is the largest
        if (['n7', 'n10', 'n22', 'n32', 'n38', 'n40', 'n43'].includes(d.id)) return 20; // Main institutions
        if (['n6', 'n9'].includes(d.id)) return 18; // Schools
        return 12; // Default size
      })
      .attr('fill', d => colorScale(d.group))
      .attr('stroke', '#000')
      .call(d3.drag()
        .on('start', dragstarted)
        .on('drag', dragged)
        .on('end', dragended));

    // Add node labels
    const nodeText = svg.append('g')
      .selectAll('text')
      .data(graphData.nodes)
      .enter()
      .append('text')
      .text(d => d.caption)
      .attr('font-size', '10px')
      .attr('dx', 15)
      .attr('dy', 4);

    // Add info panel functionality
    node.on('click', function(event, d) {
      const panel = document.getElementById('info-panel');
      document.getElementById('node-title').textContent = d.caption;
      document.getElementById('node-details').textContent = d.details;
      panel.style.display = 'block';
    });

    // Add simulation tick function
    simulation.nodes(graphData.nodes).on('tick', ticked);
    simulation.force('link').links(graphData.links);

    function ticked() {
      link
        .attr('x1', d => d.source.x)
        .attr('y1', d => d.source.y)
        .attr('x2', d => d.target.x)
        .attr('y2', d => d.target.y);

      node
        .attr('cx', d => d.x = Math.max(20, Math.min(width - 20, d.x)))
        .attr('cy', d => d.y = Math.max(20, Math.min(height - 20, d.y)));

      nodeText
        .attr('x', d => d.x)
        .attr('y', d => d.y);

      linkText
        .attr('x', d => (d.source.x + d.target.x) / 2)
        .attr('y', d => (d.source.y + d.target.y) / 2);
    }

    function dragstarted(event) {
      if (!event.active) simulation.alphaTarget(0.3).restart();
      event.subject.fx = event.subject.x;
      event.subject.fy = event.subject.y;
    }

    function dragged(event) {
      event.subject.fx = event.x;
      event.subject.fy = event.y;
    }

    function dragended(event) {
      if (!event.active) simulation.alphaTarget(0);
      event.subject.fx = null;
      event.subject.fy = null;
    }

    // Add filter functionality
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Update active button styling
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        const filter = this.getAttribute('data-filter');
        
        if (filter === 'all') {
          // Show everything
          node.style('opacity', 1);
          link.style('opacity', 0.6);
          nodeText.style('opacity', 1);
          linkText.style('opacity', 1);
          return;
        }
        
        // Get nodes for this category
        const relevantNodes = nodeCategories[filter] || [];
        
        // Highlight matching nodes and their connections
        node.style('opacity', d => relevantNodes.includes(d.id) ? 1 : 0.2);
        nodeText.style('opacity', d => relevantNodes.includes(d.id) ? 1 : 0.2);
        
        link.style('opacity', d => 
          (relevantNodes.includes(d.source.id) || relevantNodes.includes(d.target.id)) ? 0.8 : 0.1
        );
        
        linkText.style('opacity', d => 
          (relevantNodes.includes(d.source.id) || relevantNodes.includes(d.target.id)) ? 1 : 0.1
        );
      });
    });

    // Close info panel when clicking elsewhere
    document.getElementById('graph-container').addEventListener('click', function(e) {
      if (e.target.tagName !== 'circle') {
        document.getElementById('info-panel').style.display = 'none';
      }
    });
  </script>
</body>
</html>
