<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokÃ©mon Type Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .pixelated {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }html {
      overflow-y: scroll;
    }@font-face {
  font-family: 'EssentiarumVG';
  src: url('fonts/EssentiarumVG.woff2') format('woff2'),
       url('fonts/EssentiarumVG.woff') format('woff');
  font-display: swap;
}

.type-icon {
  font-family: 'EssentiarumVG';
  font-size: 1.25rem;
  line-height: 1;
  display: inline-block;
}

.type-label {
  font-family: 'Inter', sans-serif;
  text-transform: uppercase;
  margin-left: 0.4em;
  font-weight: 700;
  font-size: 0.75rem;
  line-height: 1;
}

button.type-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  color: white;
  padding-top: 4px;
  padding-bottom: 6px;
  transition: transform 0.15s ease, background-color 0.15s ease, color 0.15s ease;
  border: 2px solid transparent;
  position: relative;
  z-index: 0;
}

button.type-btn:hover {
  transform: scale(1.05);
}


button.type-btn:hover::before {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 9999px;
  padding: 4px;
  background: conic-gradient(from var(--angle),
    #ff0000, #FFD700, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000
  );
  animation: rotateGradient 4s linear infinite;
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  z-index: -1;
}

button.type-btn.selected::before {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 9999px;
  padding: 4px;
  background: conic-gradient(from var(--angle),
    #ff0000, #FFD700, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  z-index: -1;
}

button.type-btn.selected:hover::before {
  animation: rotateGradient 4s linear infinite;
}

@property --angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

@keyframes rotateGradient {
  to { --angle: 360deg; }
}
    </style>
</head>
<body class="bg-gradient-to-b from-blue-100 to-blue-200 min-h-screen">
    <div id="app">
        <div class="min-h-screen p-2 sm:p-8 flex items-center justify-center">

            <div class="w-full sm:max-w-md bg-white rounded-lg shadow-xl p-2 sm:p-8 text-center">

                <p class="text-xl text-gray-700">Loading...</p>
            </div>
        </div>
    </div>
    <script>
        function getIconChar(type) {
          const map = {
            ground: 'a', bug: 'b', normal: 'c', dark: 'd', fighting: 'f',
            grass: 'g', ghost: 'h', ice: 'i', rock: 'k', electric: 'l',
            steel: 'm', dragon: 'n', poison: 'o', psychic: 'p',
            fire: 'r', flying: 'v', water: 'w', fairy: 'y'
          };
          return map[type] || '?';
        }
        </script>
    <script>
        // ðŸ”§ PASTE YOUR GOOGLE SHEETS WEBHOOK URL HERE:
        const GOOGLE_SHEET_URL = 'https://script.google.com/macros/s/AKfycbxya77jjiWfTLhXcFJcwSV70ytLXfr4Ok9cOlkrKvBgfY5Mq2vMQ2CqjPooBQTg5ZNOVw/exec';

             // ðŸ”§ PASTE YOUR CSV DATA HERE (no header row):
             const POKEMON_CSV = `
1,Bulbasaur,Grass,Poison,1
2,Ivysaur,Grass,Poison,1
3,Venusaur,Grass,Poison,1
4,Charmander,Fire,,1
5,Charmeleon,Fire,,1
6,Charizard,Fire,Flying,1
7,Squirtle,Water,,1
8,Wartortle,Water,,1
9,Blastoise,Water,,1
10,Caterpie,Bug,,1
11,Metapod,Bug,,1
12,Butterfree,Bug,Flying,1
13,Weedle,Bug,Poison,1
14,Kakuna,Bug,Poison,1
15,Beedrill,Bug,Poison,1
16,Pidgey,Normal,Flying,1
17,Pidgeotto,Normal,Flying,1
18,Pidgeot,Normal,Flying,1
19,Rattata,Normal,,1
20,Raticate,Normal,,1
21,Spearow,Normal,Flying,1
22,Fearow,Normal,Flying,1
23,Ekans,Poison,,1
24,Arbok,Poison,,1
25,Pikachu,Electric,,1
26,Raichu,Electric,,1
27,Sandshrew,Ground,,1
28,Sandslash,Ground,,1
29,Nidoranâ™€,Poison,,1
30,Nidorina,Poison,,1
31,Nidoqueen,Poison,Ground,1
32,Nidoranâ™‚,Poison,,1
33,Nidorino,Poison,,1
34,Nidoking,Poison,Ground,1
35,Clefairy,Fairy,,1
36,Clefable,Fairy,,1
37,Vulpix,Fire,,1
38,Ninetales,Fire,,1
39,Jigglypuff,Normal,Fairy,1
40,Wigglytuff,Normal,Fairy,1
41,Zubat,Poison,Flying,1
42,Golbat,Poison,Flying,1
43,Oddish,Grass,Poison,1
44,Gloom,Grass,Poison,1
45,Vileplume,Grass,Poison,1
46,Paras,Bug,Grass,1
47,Parasect,Bug,Grass,1
48,Venonat,Bug,Poison,1
49,Venomoth,Bug,Poison,1
50,Diglett,Ground,,1
51,Dugtrio,Ground,,1
52,Meowth,Normal,,1
53,Persian,Normal,,1
54,Psyduck,Water,,1
55,Golduck,Water,,1
56,Mankey,Fighting,,1
57,Primeape,Fighting,,1
58,Growlithe,Fire,,1
59,Arcanine,Fire,,1
60,Poliwag,Water,,1
61,Poliwhirl,Water,,1
62,Poliwrath,Water,Fighting,1
63,Abra,Psychic,,1
64,Kadabra,Psychic,,1
65,Alakazam,Psychic,,1
66,Machop,Fighting,,1
67,Machoke,Fighting,,1
68,Machamp,Fighting,,1
69,Bellsprout,Grass,Poison,1
70,Weepinbell,Grass,Poison,1
71,Victreebel,Grass,Poison,1
72,Tentacool,Water,Poison,1
73,Tentacruel,Water,Poison,1
74,Geodude,Rock,Ground,1
75,Graveler,Rock,Ground,1
76,Golem,Rock,Ground,1
77,Ponyta,Fire,,1
78,Rapidash,Fire,,1
79,Slowpoke,Water,Psychic,1
80,Slowbro,Water,Psychic,1
81,Magnemite,Electric,Steel,1
82,Magneton,Electric,Steel,1
83,Farfetch'd,Normal,Flying,1
84,Doduo,Normal,Flying,1
85,Dodrio,Normal,Flying,1
86,Seel,Water,,1
87,Dewgong,Water,Ice,1
88,Grimer,Poison,,1
89,Muk,Poison,,1
90,Shellder,Water,,1
91,Cloyster,Water,Ice,1
92,Gastly,Ghost,Poison,1
93,Haunter,Ghost,Poison,1
94,Gengar,Ghost,Poison,1
95,Onix,Rock,Ground,1
96,Drowzee,Psychic,,1
97,Hypno,Psychic,,1
98,Krabby,Water,,1
99,Kingler,Water,,1
100,Voltorb,Electric,,1
101,Electrode,Electric,,1
102,Exeggcute,Grass,Psychic,1
103,Exeggutor,Grass,Psychic,1
104,Cubone,Ground,,1
105,Marowak,Ground,,1
106,Hitmonlee,Fighting,,1
107,Hitmonchan,Fighting,,1
108,Lickitung,Normal,,1
109,Koffing,Poison,,1
110,Weezing,Poison,,1
111,Rhyhorn,Ground,Rock,1
112,Rhydon,Ground,Rock,1
113,Chansey,Normal,,1
114,Tangela,Grass,,1
115,Kangaskhan,Normal,,1
116,Horsea,Water,,1
117,Seadra,Water,,1
118,Goldeen,Water,,1
119,Seaking,Water,,1
120,Staryu,Water,,1
121,Starmie,Water,Psychic,1
122,Mr. Mime,Psychic,Fairy,1
123,Scyther,Bug,Flying,1
124,Jynx,Ice,Psychic,1
125,Electabuzz,Electric,,1
126,Magmar,Fire,,1
127,Pinsir,Bug,,1
128,Tauros,Normal,,1
129,Magikarp,Water,,1
130,Gyarados,Water,Flying,1
131,Lapras,Water,Ice,1
132,Ditto,Normal,,1
133,Eevee,Normal,,1
134,Vaporeon,Water,,1
135,Jolteon,Electric,,1
136,Flareon,Fire,,1
137,Porygon,Normal,,1
138,Omanyte,Rock,Water,1
139,Omastar,Rock,Water,1
140,Kabuto,Rock,Water,1
141,Kabutops,Rock,Water,1
142,Aerodactyl,Rock,Flying,1
143,Snorlax,Normal,,1
144,Articuno,Ice,Flying,1
145,Zapdos,Electric,Flying,1
146,Moltres,Fire,Flying,1
147,Dratini,Dragon,,1
148,Dragonair,Dragon,,1
149,Dragonite,Dragon,Flying,1
150,Mewtwo,Psychic,,1
151,Mew,Psychic,,1
152,Chikorita,Grass,,2
153,Bayleef,Grass,,2
154,Meganium,Grass,,2
155,Cyndaquil,Fire,,2
156,Quilava,Fire,,2
157,Typhlosion,Fire,,2
158,Totodile,Water,,2
159,Croconaw,Water,,2
160,Feraligatr,Water,,2
161,Sentret,Normal,,2
162,Furret,Normal,,2
163,Hoothoot,Normal,Flying,2
164,Noctowl,Normal,Flying,2
165,Ledyba,Bug,Flying,2
166,Ledian,Bug,Flying,2
167,Spinarak,Bug,Poison,2
168,Ariados,Bug,Poison,2
169,Crobat,Poison,Flying,2
170,Chinchou,Water,Electric,2
171,Lanturn,Water,Electric,2
172,Pichu,Electric,,2
173,Cleffa,Fairy,,2
174,Igglybuff,Normal,Fairy,2
175,Togepi,Fairy,,2
176,Togetic,Fairy,Flying,2
177,Natu,Psychic,Flying,2
178,Xatu,Psychic,Flying,2
179,Mareep,Electric,,2
180,Flaaffy,Electric,,2
181,Ampharos,Electric,,2
182,Bellossom,Grass,,2
183,Marill,Water,Fairy,2
184,Azumarill,Water,Fairy,2
185,Sudowoodo,Rock,,2
186,Politoed,Water,,2
187,Hoppip,Grass,Flying,2
188,Skiploom,Grass,Flying,2
189,Jumpluff,Grass,Flying,2
190,Aipom,Normal,,2
191,Sunkern,Grass,,2
192,Sunflora,Grass,,2
193,Yanma,Bug,Flying,2
194,Wooper,Water,Ground,2
195,Quagsire,Water,Ground,2
196,Espeon,Psychic,,2
197,Umbreon,Dark,,2
198,Murkrow,Dark,Flying,2
199,Slowking,Water,Psychic,2
200,Misdreavus,Ghost,,2
201,Unown,Psychic,,2
202,Wobbuffet,Psychic,,2
203,Girafarig,Normal,Psychic,2
204,Pineco,Bug,,2
205,Forretress,Bug,Steel,2
206,Dunsparce,Normal,,2
207,Gligar,Ground,Flying,2
208,Steelix,Steel,Ground,2
209,Snubbull,Fairy,,2
210,Granbull,Fairy,,2
211,Qwilfish,Water,Poison,2
212,Scizor,Bug,Steel,2
213,Shuckle,Bug,Rock,2
214,Heracross,Bug,Fighting,2
215,Sneasel,Dark,Ice,2
216,Teddiursa,Normal,,2
217,Ursaring,Normal,,2
218,Slugma,Fire,,2
219,Magcargo,Fire,Rock,2
220,Swinub,Ice,Ground,2
221,Piloswine,Ice,Ground,2
222,Corsola,Water,Rock,2
223,Remoraid,Water,,2
224,Octillery,Water,,2
225,Delibird,Ice,Flying,2
226,Mantine,Water,Flying,2
227,Skarmory,Steel,Flying,2
228,Houndour,Dark,Fire,2
229,Houndoom,Dark,Fire,2
230,Kingdra,Water,Dragon,2
231,Phanpy,Ground,,2
232,Donphan,Ground,,2
233,Porygon2,Normal,,2
234,Stantler,Normal,,2
235,Smeargle,Normal,,2
236,Tyrogue,Fighting,,2
237,Hitmontop,Fighting,,2
238,Smoochum,Ice,Psychic,2
239,Elekid,Electric,,2
240,Magby,Fire,,2
241,Miltank,Normal,,2
242,Blissey,Normal,,2
243,Raikou,Electric,,2
244,Entei,Fire,,2
245,Suicune,Water,,2
246,Larvitar,Rock,Ground,2
247,Pupitar,Rock,Ground,2
248,Tyranitar,Rock,Dark,2
249,Lugia,Psychic,Flying,2
250,Ho-oh,Fire,Flying,2
251,Celebi,Psychic,Grass,2
252,Treecko,Grass,,3
253,Grovyle,Grass,,3
254,Sceptile,Grass,,3
255,Torchic,Fire,,3
256,Combusken,Fire,Fighting,3
257,Blaziken,Fire,Fighting,3
258,Mudkip,Water,,3
259,Marshtomp,Water,Ground,3
260,Swampert,Water,Ground,3
261,Poochyena,Dark,,3
262,Mightyena,Dark,,3
263,Zigzagoon,Normal,,3
264,Linoone,Normal,,3
265,Wurmple,Bug,,3
266,Silcoon,Bug,,3
267,Beautifly,Bug,Flying,3
268,Cascoon,Bug,,3
269,Dustox,Bug,Poison,3
270,Lotad,Water,Grass,3
271,Lombre,Water,Grass,3
272,Ludicolo,Water,Grass,3
273,Seedot,Grass,,3
274,Nuzleaf,Grass,Dark,3
275,Shiftry,Grass,Dark,3
276,Taillow,Normal,Flying,3
277,Swellow,Normal,Flying,3
278,Wingull,Water,Flying,3
279,Pelipper,Water,Flying,3
280,Ralts,Psychic,Fairy,3
281,Kirlia,Psychic,Fairy,3
282,Gardevoir,Psychic,Fairy,3
283,Surskit,Bug,Water,3
284,Masquerain,Bug,Flying,3
285,Shroomish,Grass,,3
286,Breloom,Grass,Fighting,3
287,Slakoth,Normal,,3
288,Vigoroth,Normal,,3
289,Slaking,Normal,,3
290,Nincada,Bug,Ground,3
291,Ninjask,Bug,Flying,3
292,Shedinja,Bug,Ghost,3
293,Whismur,Normal,,3
294,Loudred,Normal,,3
295,Exploud,Normal,,3
296,Makuhita,Fighting,,3
297,Hariyama,Fighting,,3
298,Azurill,Normal,Fairy,3
299,Nosepass,Rock,,3
300,Skitty,Normal,,3
301,Delcatty,Normal,,3
302,Sableye,Dark,Ghost,3
303,Mawile,Steel,Fairy,3
304,Aron,Steel,Rock,3
305,Lairon,Steel,Rock,3
306,Aggron,Steel,Rock,3
307,Meditite,Fighting,Psychic,3
308,Medicham,Fighting,Psychic,3
309,Electrike,Electric,,3
310,Manectric,Electric,,3
311,Plusle,Electric,,3
312,Minun,Electric,,3
313,Volbeat,Bug,,3
314,Illumise,Bug,,3
315,Roselia,Grass,Poison,3
316,Gulpin,Poison,,3
317,Swalot,Poison,,3
318,Carvanha,Water,Dark,3
319,Sharpedo,Water,Dark,3
320,Wailmer,Water,,3
321,Wailord,Water,,3
322,Numel,Fire,Ground,3
323,Camerupt,Fire,Ground,3
324,Torkoal,Fire,,3
325,Spoink,Psychic,,3
326,Grumpig,Psychic,,3
327,Spinda,Normal,,3
328,Trapinch,Ground,,3
329,Vibrava,Ground,Dragon,3
330,Flygon,Ground,Dragon,3
331,Cacnea,Grass,,3
332,Cacturne,Grass,Dark,3
333,Swablu,Normal,Flying,3
334,Altaria,Dragon,Flying,3
335,Zangoose,Normal,,3
336,Seviper,Poison,,3
337,Lunatone,Rock,Psychic,3
338,Solrock,Rock,Psychic,3
339,Barboach,Water,Ground,3
340,Whiscash,Water,Ground,3
341,Corphish,Water,,3
342,Crawdaunt,Water,Dark,3
343,Baltoy,Ground,Psychic,3
344,Claydol,Ground,Psychic,3
345,Lileep,Rock,Grass,3
346,Cradily,Rock,Grass,3
347,Anorith,Rock,Bug,3
348,Armaldo,Rock,Bug,3
349,Feebas,Water,,3
350,Milotic,Water,,3
351,Castform,Normal,,3
352,Kecleon,Normal,,3
353,Shuppet,Ghost,,3
354,Banette,Ghost,,3
355,Duskull,Ghost,,3
356,Dusclops,Ghost,,3
357,Tropius,Grass,Flying,3
358,Chimecho,Psychic,,3
359,Absol,Dark,,3
360,Wynaut,Psychic,,3
361,Snorunt,Ice,,3
362,Glalie,Ice,,3
363,Spheal,Ice,Water,3
364,Sealeo,Ice,Water,3
365,Walrein,Ice,Water,3
366,Clamperl,Water,,3
367,Huntail,Water,,3
368,Gorebyss,Water,,3
369,Relicanth,Water,Rock,3
370,Luvdisc,Water,,3
371,Bagon,Dragon,,3
372,Shelgon,Dragon,,3
373,Salamence,Dragon,Flying,3
374,Beldum,Steel,Psychic,3
375,Metang,Steel,Psychic,3
376,Metagross,Steel,Psychic,3
377,Regirock,Rock,,3
378,Regice,Ice,,3
379,Registeel,Steel,,3
380,Latias,Dragon,Psychic,3
381,Latios,Dragon,Psychic,3
382,Kyogre,Water,,3
383,Groudon,Ground,,3
384,Rayquaza,Dragon,Flying,3
385,Jirachi,Steel,Psychic,3
386,Deoxys,Psychic,,3
387,Turtwig,Grass,,4
388,Grotle,Grass,,4
389,Torterra,Grass,Ground,4
390,Chimchar,Fire,,4
391,Monferno,Fire,Fighting,4
392,Infernape,Fire,Fighting,4
393,Piplup,Water,,4
394,Prinplup,Water,,4
395,Empoleon,Water,Steel,4
396,Starly,Normal,Flying,4
397,Staravia,Normal,Flying,4
398,Staraptor,Normal,Flying,4
399,Bidoof,Normal,,4
400,Bibarel,Normal,Water,4
401,Kricketot,Bug,,4
402,Kricketune,Bug,,4
403,Shinx,Electric,,4
404,Luxio,Electric,,4
405,Luxray,Electric,,4
406,Budew,Grass,Poison,4
407,Roserade,Grass,Poison,4
408,Cranidos,Rock,,4
409,Rampardos,Rock,,4
410,Shieldon,Rock,Steel,4
411,Bastiodon,Rock,Steel,4
412,Burmy,Bug,,4
413,Wormadam,Bug,Grass,4
414,Mothim,Bug,Flying,4
415,Combee,Bug,Flying,4
416,Vespiquen,Bug,Flying,4
417,Pachirisu,Electric,,4
418,Buizel,Water,,4
419,Floatzel,Water,,4
420,Cherubi,Grass,,4
421,Cherrim,Grass,,4
422,Shellos,Water,,4
423,Gastrodon,Water,Ground,4
424,Ambipom,Normal,,4
425,Drifloon,Ghost,Flying,4
426,Drifblim,Ghost,Flying,4
427,Buneary,Normal,,4
428,Lopunny,Normal,,4
429,Mismagius,Ghost,,4
430,Honchkrow,Dark,Flying,4
431,Glameow,Normal,,4
432,Purugly,Normal,,4
433,Chingling,Psychic,,4
434,Stunky,Poison,Dark,4
435,Skuntank,Poison,Dark,4
436,Bronzor,Steel,Psychic,4
437,Bronzong,Steel,Psychic,4
438,Bonsly,Rock,,4
439,Mime Jr.,Psychic,Fairy,4
440,Happiny,Normal,,4
441,Chatot,Normal,Flying,4
442,Spiritomb,Ghost,Dark,4
443,Gible,Dragon,Ground,4
444,Gabite,Dragon,Ground,4
445,Garchomp,Dragon,Ground,4
446,Munchlax,Normal,,4
447,Riolu,Fighting,,4
448,Lucario,Fighting,Steel,4
449,Hippopotas,Ground,,4
450,Hippowdon,Ground,,4
451,Skorupi,Poison,Bug,4
452,Drapion,Poison,Dark,4
453,Croagunk,Poison,Fighting,4
454,Toxicroak,Poison,Fighting,4
455,Carnivine,Grass,,4
456,Finneon,Water,,4
457,Lumineon,Water,,4
458,Mantyke,Water,Flying,4
459,Snover,Grass,Ice,4
460,Abomasnow,Grass,Ice,4
461,Weavile,Dark,Ice,4
462,Magnezone,Electric,Steel,4
463,Lickilicky,Normal,,4
464,Rhyperior,Ground,Rock,4
465,Tangrowth,Grass,,4
466,Electivire,Electric,,4
467,Magmortar,Fire,,4
468,Togekiss,Fairy,Flying,4
469,Yanmega,Bug,Flying,4
470,Leafeon,Grass,,4
471,Glaceon,Ice,,4
472,Gliscor,Ground,Flying,4
473,Mamoswine,Ice,Ground,4
474,Porygon-Z,Normal,,4
475,Gallade,Psychic,Fighting,4
476,Probopass,Rock,Steel,4
477,Dusknoir,Ghost,,4
478,Froslass,Ice,Ghost,4
479,Rotom,Electric,Ghost,4
480,Uxie,Psychic,,4
481,Mesprit,Psychic,,4
482,Azelf,Psychic,,4
483,Dialga,Steel,Dragon,4
484,Palkia,Water,Dragon,4
485,Heatran,Fire,Steel,4
486,Regigigas,Normal,,4
487,Giratina,Ghost,Dragon,4
488,Cresselia,Psychic,,4
489,Phione,Water,,4
490,Manaphy,Water,,4
491,Darkrai,Dark,,4
492,Shaymin,Grass,,4
493,Arceus,Normal,,4
494,Victini,Psychic,Fire,5
495,Snivy,Grass,,5
496,Servine,Grass,,5
497,Serperior,Grass,,5
498,Tepig,Fire,,5
499,Pignite,Fire,Fighting,5
500,Emboar,Fire,Fighting,5
501,Oshawott,Water,,5
502,Dewott,Water,,5
503,Samurott,Water,,5
504,Patrat,Normal,,5
505,Watchog,Normal,,5
506,Lillipup,Normal,,5
507,Herdier,Normal,,5
508,Stoutland,Normal,,5
509,Purrloin,Dark,,5
510,Liepard,Dark,,5
511,Pansage,Grass,,5
512,Simisage,Grass,,5
513,Pansear,Fire,,5
514,Simisear,Fire,,5
515,Panpour,Water,,5
516,Simipour,Water,,5
517,Munna,Psychic,,5
518,Musharna,Psychic,,5
519,Pidove,Normal,Flying,5
520,Tranquill,Normal,Flying,5
521,Unfezant,Normal,Flying,5
522,Blitzle,Electric,,5
523,Zebstrika,Electric,,5
524,Roggenrola,Rock,,5
525,Boldore,Rock,,5
526,Gigalith,Rock,,5
527,Woobat,Psychic,Flying,5
528,Swoobat,Psychic,Flying,5
529,Drilbur,Ground,,5
530,Excadrill,Ground,Steel,5
531,Audino,Normal,,5
532,Timburr,Fighting,,5
533,Gurdurr,Fighting,,5
534,Conkeldurr,Fighting,,5
535,Tympole,Water,,5
536,Palpitoad,Water,Ground,5
537,Seismitoad,Water,Ground,5
538,Throh,Fighting,,5
539,Sawk,Fighting,,5
540,Sewaddle,Bug,Grass,5
541,Swadloon,Bug,Grass,5
542,Leavanny,Bug,Grass,5
543,Venipede,Bug,Poison,5
544,Whirlipede,Bug,Poison,5
545,Scolipede,Bug,Poison,5
546,Cottonee,Grass,Fairy,5
547,Whimsicott,Grass,Fairy,5
548,Petilil,Grass,,5
549,Lilligant,Grass,,5
550,Basculin,Water,,5
551,Sandile,Ground,Dark,5
552,Krokorok,Ground,Dark,5
553,Krookodile,Ground,Dark,5
554,Darumaka,Fire,,5
555,Darmanitan,Fire,,5
556,Maractus,Grass,,5
557,Dwebble,Bug,Rock,5
558,Crustle,Bug,Rock,5
559,Scraggy,Dark,Fighting,5
560,Scrafty,Dark,Fighting,5
561,Sigilyph,Psychic,Flying,5
562,Yamask,Ghost,,5
563,Cofagrigus,Ghost,,5
564,Tirtouga,Water,Rock,5
565,Carracosta,Water,Rock,5
566,Archen,Rock,Flying,5
567,Archeops,Rock,Flying,5
568,Trubbish,Poison,,5
569,Garbodor,Poison,,5
570,Zorua,Dark,,5
571,Zoroark,Dark,,5
572,Minccino,Normal,,5
573,Cinccino,Normal,,5
574,Gothita,Psychic,,5
575,Gothorita,Psychic,,5
576,Gothitelle,Psychic,,5
577,Solosis,Psychic,,5
578,Duosion,Psychic,,5
579,Reuniclus,Psychic,,5
580,Ducklett,Water,Flying,5
581,Swanna,Water,Flying,5
582,Vanillite,Ice,,5
583,Vanillish,Ice,,5
584,Vanilluxe,Ice,,5
585,Deerling,Normal,Grass,5
586,Sawsbuck,Normal,Grass,5
587,Emolga,Electric,Flying,5
588,Karrablast,Bug,,5
589,Escavalier,Bug,Steel,5
590,Foongus,Grass,Poison,5
591,Amoonguss,Grass,Poison,5
592,Frillish,Water,Ghost,5
593,Jellicent,Water,Ghost,5
594,Alomomola,Water,,5
595,Joltik,Bug,Electric,5
596,Galvantula,Bug,Electric,5
597,Ferroseed,Grass,Steel,5
598,Ferrothorn,Grass,Steel,5
599,Klink,Steel,,5
600,Klang,Steel,,5
601,Klinklang,Steel,,5
602,Tynamo,Electric,,5
603,Eelektrik,Electric,,5
604,Eelektross,Electric,,5
605,Elgyem,Psychic,,5
606,Beheeyem,Psychic,,5
607,Litwick,Ghost,Fire,5
608,Lampent,Ghost,Fire,5
609,Chandelure,Ghost,Fire,5
610,Axew,Dragon,,5
611,Fraxure,Dragon,,5
612,Haxorus,Dragon,,5
613,Cubchoo,Ice,,5
614,Beartic,Ice,,5
615,Cryogonal,Ice,,5
616,Shelmet,Bug,,5
617,Accelgor,Bug,,5
618,Stunfisk,Ground,Electric,5
619,Mienfoo,Fighting,,5
620,Mienshao,Fighting,,5
621,Druddigon,Dragon,,5
622,Golett,Ground,Ghost,5
623,Golurk,Ground,Ghost,5
624,Pawniard,Dark,Steel,5
625,Bisharp,Dark,Steel,5
626,Bouffalant,Normal,,5
627,Rufflet,Normal,Flying,5
628,Braviary,Normal,Flying,5
629,Vullaby,Dark,Flying,5
630,Mandibuzz,Dark,Flying,5
631,Heatmor,Fire,,5
632,Durant,Bug,Steel,5
633,Deino,Dark,Dragon,5
634,Zweilous,Dark,Dragon,5
635,Hydreigon,Dark,Dragon,5
636,Larvesta,Bug,Fire,5
637,Volcarona,Bug,Fire,5
638,Cobalion,Steel,Fighting,5
639,Terrakion,Rock,Fighting,5
640,Virizion,Grass,Fighting,5
641,Tornadus,Flying,,5
642,Thundurus,Electric,Flying,5
643,Reshiram,Dragon,Fire,5
644,Zekrom,Dragon,Electric,5
645,Landorus,Ground,Flying,5
646,Kyurem,Dragon,Ice,5
647,Keldeo,Water,Fighting,5
648,Meloetta,Normal,Psychic,5
649,Genesect,Bug,Steel,5
650,Chespin,Grass,,6
651,Quilladin,Grass,,6
652,Chesnaught,Grass,Fighting,6
653,Fennekin,Fire,,6
654,Braixen,Fire,,6
655,Delphox,Fire,Psychic,6
656,Froakie,Water,,6
657,Frogadier,Water,,6
658,Greninja,Water,Dark,6
659,Bunnelby,Normal,,6
660,Diggersby,Normal,Ground,6
661,Fletchling,Normal,Flying,6
662,Fletchinder,Fire,Flying,6
663,Talonflame,Fire,Flying,6
664,Scatterbug,Bug,,6
665,Spewpa,Bug,,6
666,Vivillon,Bug,Flying,6
667,Litleo,Fire,Normal,6
668,Pyroar,Fire,Normal,6
669,FlabÃ©bÃ©,Fairy,,6
670,Floette,Fairy,,6
671,Florges,Fairy,,6
672,Skiddo,Grass,,6
673,Gogoat,Grass,,6
674,Pancham,Fighting,,6
675,Pangoro,Fighting,Dark,6
676,Furfrou,Normal,,6
677,Espurr,Psychic,,6
678,Meowstic,Psychic,,6
679,Honedge,Steel,Ghost,6
680,Doublade,Steel,Ghost,6
681,Aegislash,Steel,Ghost,6
682,Spritzee,Fairy,,6
683,Aromatisse,Fairy,,6
684,Swirlix,Fairy,,6
685,Slurpuff,Fairy,,6
686,Inkay,Dark,Psychic,6
687,Malamar,Dark,Psychic,6
688,Binacle,Rock,Water,6
689,Barbaracle,Rock,Water,6
690,Skrelp,Poison,Water,6
691,Dragalge,Poison,Dragon,6
692,Clauncher,Water,,6
693,Clawitzer,Water,,6
694,Helioptile,Electric,Normal,6
695,Heliolisk,Electric,Normal,6
696,Tyrunt,Rock,Dragon,6
697,Tyrantrum,Rock,Dragon,6
698,Amaura,Rock,Ice,6
699,Aurorus,Rock,Ice,6
700,Sylveon,Fairy,,6
701,Hawlucha,Fighting,Flying,6
702,Dedenne,Electric,Fairy,6
703,Carbink,Rock,Fairy,6
704,Goomy,Dragon,,6
705,Sliggoo,Dragon,,6
706,Goodra,Dragon,,6
707,Klefki,Steel,Fairy,6
708,Phantump,Ghost,Grass,6
709,Trevenant,Ghost,Grass,6
710,Pumpkaboo,Ghost,Grass,6
711,Gourgeist,Ghost,Grass,6
712,Bergmite,Ice,,6
713,Avalugg,Ice,,6
714,Noibat,Flying,Dragon,6
715,Noivern,Flying,Dragon,6
716,Xerneas,Fairy,,6
717,Yveltal,Dark,Flying,6
718,Zygarde,Dragon,Ground,6
719,Diancie,Rock,Fairy,6
720,Hoopa,Psychic,Ghost,6
721,Volcanion,Fire,Water,6
722,Rowlet,Grass,Flying,7
723,Dartrix,Grass,Flying,7
724,Decidueye,Grass,Ghost,7
725,Litten,Fire,,7
726,Torracat,Fire,,7
727,Incineroar,Fire,Dark,7
728,Popplio,Water,,7
729,Brionne,Water,,7
730,Primarina,Water,Fairy,7
731,Pikipek,Normal,Flying,7
732,Trumbeak,Normal,Flying,7
733,Toucannon,Normal,Flying,7
734,Yungoos,Normal,,7
735,Gumshoos,Normal,,7
736,Grubbin,Bug,,7
737,Charjabug,Bug,Electric,7
738,Vikavolt,Bug,Electric,7
739,Crabrawler,Fighting,,7
740,Crabominable,Fighting,Ice,7
741,Oricorio,Fire,Flying,7
742,Cutiefly,Bug,Fairy,7
743,Ribombee,Bug,Fairy,7
744,Rockruff,Rock,,7
745,Lycanroc,Rock,,7
746,Wishiwashi,Water,,7
747,Mareanie,Poison,Water,7
748,Toxapex,Poison,Water,7
749,Mudbray,Ground,,7
750,Mudsdale,Ground,,7
751,Dewpider,Water,Bug,7
752,Araquanid,Water,Bug,7
753,Fomantis,Grass,,7
754,Lurantis,Grass,,7
755,Morelull,Grass,Fairy,7
756,Shiinotic,Grass,Fairy,7
757,Salandit,Poison,Fire,7
758,Salazzle,Poison,Fire,7
759,Stufful,Normal,Fighting,7
760,Bewear,Normal,Fighting,7
761,Bounsweet,Grass,,7
762,Steenee,Grass,,7
763,Tsareena,Grass,,7
764,Comfey,Fairy,,7
765,Oranguru,Normal,Psychic,7
766,Passimian,Fighting,,7
767,Wimpod,Bug,Water,7
768,Golisopod,Bug,Water,7
769,Sandygast,Ghost,Ground,7
770,Palossand,Ghost,Ground,7
771,Pyukumuku,Water,,7
772,Type: Null,Normal,,7
773,Silvally,Normal,,7
774,Minior,Rock,Flying,7
775,Komala,Normal,,7
776,Turtonator,Fire,Dragon,7
777,Togedemaru,Electric,Steel,7
778,Mimikyu,Ghost,Fairy,7
779,Bruxish,Water,Psychic,7
780,Drampa,Normal,Dragon,7
781,Dhelmise,Ghost,Grass,7
782,Jangmo-o,Dragon,,7
783,Hakamo-o,Dragon,Fighting,7
784,Kommo-o,Dragon,Fighting,7
785,Tapu Koko,Electric,Fairy,7
786,Tapu Lele,Psychic,Fairy,7
787,Tapu Bulu,Grass,Fairy,7
788,Tapu Fini,Water,Fairy,7
789,Cosmog,Psychic,,7
790,Cosmoem,Psychic,,7
791,Solgaleo,Psychic,Steel,7
792,Lunala,Psychic,Ghost,7
793,Nihilego,Rock,Poison,7
794,Buzzwole,Bug,Fighting,7
795,Pheromosa,Bug,Fighting,7
796,Xurkitree,Electric,,7
797,Celesteela,Steel,Flying,7
798,Kartana,Grass,Steel,7
799,Guzzlord,Dark,Dragon,7
800,Necrozma,Psychic,,7
801,Magearna,Steel,Fairy,7
802,Marshadow,Fighting,Ghost,7
803,Poipole,Poison,,7
804,Naganadel,Poison,Dragon,7
805,Stakataka,Rock,Steel,7
806,Blacephalon,Fire,Ghost,7
807,Zeraora,Electric,,7
808,Meltan,Steel,,7
809,Melmetal,Steel,,7
810,Grookey,Grass,,8
811,Thwackey,Grass,,8
812,Rillaboom,Grass,,8
813,Scorbunny,Fire,,8
814,Raboot,Fire,,8
815,Cinderace,Fire,,8
816,Sobble,Water,,8
817,Drizzile,Water,,8
818,Inteleon,Water,,8
819,Skwovet,Normal,,8
820,Greedent,Normal,,8
821,Rookidee,Flying,,8
822,Corvisquire,Flying,,8
823,Corviknight,Flying,Steel,8
824,Blipbug,Bug,,8
825,Dottler,Bug,Psychic,8
826,Orbeetle,Bug,Psychic,8
827,Nickit,Dark,,8
828,Thievul,Dark,,8
829,Gossifleur,Grass,,8
830,Eldegoss,Grass,,8
831,Wooloo,Normal,,8
832,Dubwool,Normal,,8
833,Chewtle,Water,,8
834,Drednaw,Water,Rock,8
835,Yamper,Electric,,8
836,Boltund,Electric,,8
837,Rolycoly,Rock,,8
838,Carkol,Rock,Fire,8
839,Coalossal,Rock,Fire,8
840,Applin,Grass,Dragon,8
841,Flapple,Grass,Dragon,8
842,Appletun,Grass,Dragon,8
843,Silicobra,Ground,,8
844,Sandaconda,Ground,,8
845,Cramorant,Flying,Water,8
846,Arrokuda,Water,,8
847,Barraskewda,Water,,8
848,Toxel,Electric,Poison,8
849,Toxtricity,Electric,Poison,8
850,Sizzlipede,Fire,Bug,8
851,Centiskorch,Fire,Bug,8
852,Clobbopus,Fighting,,8
853,Grapploct,Fighting,,8
854,Sinistea,Ghost,,8
855,Polteageist,Ghost,,8
856,Hatenna,Psychic,,8
857,Hattrem,Psychic,,8
858,Hatterene,Psychic,Fairy,8
859,Impidimp,Dark,Fairy,8
860,Morgrem,Dark,Fairy,8
861,Grimmsnarl,Dark,Fairy,8
862,Obstagoon,Dark,Normal,8
863,Perrserker,Steel,,8
864,Cursola,Ghost,,8
865,Sirfetch'd,Fighting,,8
866,Mr. Rime,Ice,Psychic,8
867,Runerigus,Ground,Ghost,8
868,Milcery,Fairy,,8
869,Alcremie,Fairy,,8
870,Falinks,Fighting,,8
871,Pincurchin,Electric,,8
872,Snom,Ice,Bug,8
873,Frosmoth,Ice,Bug,8
874,Stonjourner,Rock,,8
875,Eiscue,Ice,,8
876,Indeedee,Psychic,Normal,8
877,Morpeko,Electric,Dark,8
878,Cufant,Steel,,8
879,Copperajah,Steel,,8
880,Dracozolt,Electric,Dragon,8
881,Arctozolt,Electric,Ice,8
882,Dracovish,Water,Dragon,8
883,Arctovish,Water,Ice,8
884,Duraludon,Steel,Dragon,8
885,Dreepy,Dragon,Ghost,8
886,Drakloak,Dragon,Ghost,8
887,Dragapult,Dragon,Ghost,8
888,Zacian,Fairy,Steel,8
889,Zamazenta,Fighting,Steel,8
890,Eternatus,Poison,Dragon,8
891,Kubfu,Fighting,,8
892,Urshifu,Fighting,Dark,8
893,Zarude,Dark,Grass,8
894,Regieleki,Electric,,8
895,Regidrago,Dragon,,8
896,Glastrier,Ice,,8
897,Spectrier,Ghost,,8
898,Calyrex,Psychic,Grass,8
899,Wyrdeer,Normal,Psychic,8
900,Kleavor,Bug,Rock,8
901,Ursaluna,Ground,Normal,8
902,Basculegion,Water,Ghost,8
903,Sneasler,Fighting,Poison,8
904,Overqwil,Dark,Poison,8
905,Enamorus,Fairy,Flying,8
906,Sprigatito,Grass,,9
907,Floragato,Grass,,9
908,Meowscarada,Grass,Dark,9
909,Fuecoco,Fire,,9
910,Crocalor,Fire,,9
911,Skeledirge,Fire,Ghost,9
912,Quaxly,Water,,9
913,Quaxwell,Water,,9
914,Quaquaval,Water,Fighting,9
915,Lechonk,Normal,,9
916,Oinkologne,Normal,,9
917,Tarountula,Bug,,9
918,Spidops,Bug,,9
919,Nymble,Bug,,9
920,Lokix,Bug,Dark,9
921,Pawmi,Electric,,9
922,Pawmo,Electric,Fighting,9
923,Pawmot,Electric,Fighting,9
924,Tandemaus,Normal,,9
925,Maushold,Normal,,9
926,Fidough,Fairy,,9
927,Dachsbun,Fairy,,9
928,Smoliv,Grass,Normal,9
929,Dolliv,Grass,Normal,9
930,Arboliva,Grass,Normal,9
931,Squawkabilly,Normal,Flying,9
932,Nacli,Rock,,9
933,Naclstack,Rock,,9
934,Garganacl,Rock,,9
935,Charcadet,Fire,,9
936,Armarouge,Fire,Psychic,9
937,Ceruledge,Fire,Ghost,9
938,Tadbulb,Electric,,9
939,Bellibolt,Electric,,9
940,Wattrel,Electric,Flying,9
941,Kilowattrel,Electric,Flying,9
942,Maschiff,Dark,,9
943,Mabosstiff,Dark,,9
944,Shroodle,Poison,Normal,9
945,Grafaiai,Poison,Normal,9
946,Bramblin,Grass,Ghost,9
947,Brambleghast,Grass,Ghost,9
948,Toedscool,Ground,Grass,9
949,Toedscruel,Ground,Grass,9
950,Klawf,Rock,,9
951,Capsakid,Grass,,9
952,Scovillain,Grass,Fire,9
953,Rellor,Bug,,9
954,Rabsca,Bug,Psychic,9
955,Flittle,Psychic,,9
956,Espathra,Psychic,,9
957,Tinkatink,Fairy,Steel,9
958,Tinkatuff,Fairy,Steel,9
959,Tinkaton,Fairy,Steel,9
960,Wiglett,Water,,9
961,Wugtrio,Water,,9
962,Bombirdier,Flying,Dark,9
963,Finizen,Water,,9
964,Palafin,Water,,9
965,Varoom,Steel,Poison,9
966,Revavroom,Steel,Poison,9
967,Cyclizar,Dragon,Normal,9
968,Orthworm,Steel,,9
969,Glimmet,Rock,Poison,9
970,Glimmora,Rock,Poison,9
971,Greavard,Ghost,,9
972,Houndstone,Ghost,,9
973,Flamigo,Flying,Fighting,9
974,Cetoddle,Ice,,9
975,Cetitan,Ice,,9
976,Veluza,Water,Psychic,9
977,Dondozo,Water,,9
978,Tatsugiri,Dragon,Water,9
979,Annihilape,Fighting,Ghost,9
980,Clodsire,Poison,Ground,9
981,Farigiraf,Normal,Psychic,9
982,Dudunsparce,Normal,,9
983,Kingambit,Dark,Steel,9
984,Great Tusk,Ground,Fighting,9
985,Scream Tail,Fairy,Psychic,9
986,Brute Bonnet,Grass,Dark,9
987,Flutter Mane,Ghost,Fairy,9
988,Slither Wing,Bug,Fighting,9
989,Sandy Shocks,Electric,Ground,9
990,Iron Treads,Ground,Steel,9
991,Iron Bundle,Ice,Water,9
992,Iron Hands,Fighting,Electric,9
993,Iron Jugulis,Dark,Flying,9
994,Iron Moth,Fire,Poison,9
995,Iron Thorns,Rock,Electric,9
996,Frigibax,Dragon,Ice,9
997,Arctibax,Dragon,Ice,9
998,Baxcalibur,Dragon,Ice,9
999,Gimmighoul,Ghost,,9
1000,Gholdengo,Steel,Ghost,9
1001,Wo-Chien,Dark,Grass,9
1002,Chien-Pao,Dark,Ice,9
1003,Ting-Lu,Dark,Ground,9
1004,Chi-Yu,Dark,Fire,9
1005,Roaring Moon,Dragon,Dark,9
1006,Iron Valiant,Fairy,Fighting,9
1007,Koraidon,Fighting,Dragon,9
1008,Miraidon,Electric,Dragon,9
1009,Walking Wake,Water,Dragon,9
1010,Iron Leaves,Grass,Psychic,9
1011,Dipplin,Grass,Dragon,9
1012,Poltchageist,Grass,Ghost,9
1013,Sinistcha,Grass,Ghost,9
1014,Okidogi,Poison,Fighting,9
1015,Munkidori,Poison,Psychic,9
1016,Fezandipiti,Poison,Fairy,9
1017,Ogerpon,Grass,,9
1018,Archaludon,Steel,Dragon,9
1019,Hydrapple,Grass,Dragon,9
1020,Gouging Fire,Fire,Dragon,9
1021,Raging Bolt,Electric,Dragon,9
1022,Iron Boulder,Rock,Psychic,9
1023,Iron Crown,Steel,Psychic,9
1024,Terapagos,Normal,,9
1025,Pecharunt,Poison,Ghost,9
0,MissingNo.,Normal,,9
-1,Voltorb,Electric,Grass,8
-2,Electrode,Electric,Grass,8
-3,Exeggutor,Grass,Dragon,7
-4,Marowak,Fire,Ghost,7
-5,Weezing,Poison,Fairy,8
-6,Mr. Mime,Ice,Psychic,8
-7,Tauros,Fighting,,9
-8,Articuno,Psychic,Flying,8
-9,Zapdos,Fighting,Flying,8
-10,Moltres,Dark,Flying,8
-11,Typhlosion,Fire,Ghost,8
-12,Rattata,Dark,Normal,7
-13,Raticate,Dark,Normal,7
-14,Wooper,Poison,Ground,9
-15,Slowpoke,Psychic,,8
-16,Slowbro,Poison,Psychic,8
-17,Slowking,Poison,Psychic,8
-18,Qwilfish,Dark,Poison,8
-19,Sneasel,Fighting,Poison,8
-20,Corsola,Ghost,,8
-21,Raichu,Electric,Psychic,7
-22,Zigzagoon,Dark,Normal,8
-23,Linoone,Dark,Normal,8
-24,Sandshrew,Ice,Steel,7
-25,Sandslash,Ice,Steel,7
-26,Vulpix,Ice,,7
-27,Ninetales,Ice,Fairy,7
-28,Diglett,Ground,Steel,7
-29,Dugtrio,Ground,Steel,7
-30,Samurott,Water,Dark,8
-31,Meowth,Dark,,7
-32,Persian,Dark,,7
-33,Meowth,Steel,,8
-34,Lilligant,Grass,Fighting,8
-35,Darumaka,Ice,,8
-36,Darmanitan,Ice,,8
-37,Yamask,Ground,Ghost,8
-38,Zorua,Normal,Ghost,8
-39,Zoroark,Normal,Ghost,8
-40,Growlithe,Fire,Rock,8
-41,Arcanine,Fire,Rock,8
-42,Stunfisk,Ground,Steel,8
-43,Braviary,Psychic,Flying,8
-44,Sliggoo,Steel,Dragon,8
-45,Goodra,Steel,Dragon,8
-46,Avalugg,Ice,Rock,8
-47,Decidueye,Grass,Fighting,8
-48,Geodude,Rock,Electric,7
-49,Graveler,Rock,Electric,7
-50,Golem,Rock,Electric,7
-51,Ponyta,Psychic,,8
-52,Rapidash,Psychic,Fairy,8
-53,Farfetch'd,Fighting,,8
-54,Grimer,Poison,Dark,7
-55,Muk,Poison,Dark,7`;

        // ðŸ”§ SPRITE MODE: 'default' (webp with svg fallback), 'gbc', 'gb', '3d', 'card', or 'moves'
        let spriteMode = 'default';
        let selectedGens = [1, 2, 3, 4, 5, 6, 7, 8, 9]; // All generations selected by default

        const TYPE_COLORS = {
  bug: '#91A119',
  dark: '#50413f',
  dragon: '#5060E1',
  electric: '#FAC000',
  fairy: '#EF70EF',
  fighting: '#FF8000',
  fire: '#E62829',
  flying: '#81B9EF',
  ghost: '#704170',
  grass: '#3FA129',
  ground: '#915121',
  ice: '#3fd8ff',
  normal: '#9FA19F',
  poison: '#9141CB',
  psychic: '#EF4179',
  rock: '#AFA981',
  steel: '#60A1B8',
  water: '#2980EF',

};


        const types = ['bug', 'poison', 'ground', 'flying', 'electric', 'rock', 'normal', 'grass', 'fire', 'dragon', 'psychic', 'ice', 'ghost', 'fighting', 'water', 'dark', 'steel', 'fairy'];
        
        const GEN_YEARS = {
            1: 1996,
            2: 1999,
            3: 2002,
            4: 2006,
            5: 2010,
            6: 2013,
            7: 2016,
            8: 2019,
            9: 2022
        };

        let quizPokemon = [];
        let currentIndex = 0;
        let selectedTypes = [];
        let results = [];
        let screen = 'quiz';

        // Get file extension based on sprite mode
        function getSpriteExtension(mode) {
            if (mode === '3d') return 'webm';
            if (mode === 'card' || mode === 'moves') return 'webp';
            if (mode === 'default') return 'webp';
            return 'png';
        }

        // Parse CSV into Pokemon data
        function parsePokemonData(csv) {
            const lines = csv.trim().split('\n');
            return lines.map(line => {
                const parts = line.split(',');
                const id = parts[0];
                const name = parts[1];
                const type1 = parts[2];
                const type2 = parts[3];
                const gen = parts[4];
                
                const types = [type1.toLowerCase()];
                if (type2 && type2.trim()) {
                    types.push(type2.toLowerCase());
                }
                const pokemonId = parseInt(id);
                const ext = getSpriteExtension(spriteMode);
                
                const spritePath = spriteMode === 'default' 
                    ? `images/${pokemonId}.${ext}`
                    : `images/${spriteMode}/${pokemonId}.${ext}`;
                
                return {
                    id: pokemonId,
                    name: name,
                    types: types,
                    gen: parseInt(gen),
                    sprite: spritePath,
                    spriteBackup: spriteMode === 'default' ? `images/${pokemonId}.svg` : null
                };
            });
        }

        function calculateScore(correctTypes, userTypes) {
            let points = 0;
            const hasOneType = correctTypes.length === 1;
            const hasTwoTypes = correctTypes.length === 2;

            const correctGuesses = userTypes.filter(ut => correctTypes.includes(ut)).length;
            const wrongGuesses = userTypes.filter(ut => !correctTypes.includes(ut)).length;
            
            points = correctGuesses - wrongGuesses;

            if (correctGuesses > 0 && points < 1) {
                points = 1;
            }

            if (hasOneType && correctGuesses === 1 && wrongGuesses === 0) {
                points += 1;
            } else if (hasTwoTypes && correctGuesses === 2 && wrongGuesses === 0) {
                points += 1;
            }

            return Math.max(0, points);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function toggleGen(gen) {
            if (selectedGens.includes(gen)) {
                selectedGens = selectedGens.filter(g => g !== gen);
            } else {
                selectedGens.push(gen);
                selectedGens.sort((a, b) => a - b);
            }
            
            if (selectedGens.length === 0) {
                selectedGens = [1, 2, 3, 4, 5, 6, 7, 8, 9];
            }
            
            initQuiz();
        }

        function selectAllGens() {
            selectedGens = [1, 2, 3, 4, 5, 6, 7, 8, 9];
            initQuiz();
        }

        function toggleAllGens() {
            if (selectedGens.length === 9) {
                // Turn off - clear all
                selectedGens = [];
            } else {
                // Turn on - select all
                selectedGens = [1, 2, 3, 4, 5, 6, 7, 8, 9];
                initQuiz();
            }
            render();
        }

        function clearAllGens() {
            selectedGens = [];
            render();
        }

        function initQuiz() {
            try {
                const allPokemon = parsePokemonData(POKEMON_CSV);
                const filteredPokemon = allPokemon.filter(p => selectedGens.includes(p.gen));
                
                if (filteredPokemon.length === 0) {
                    selectedGens = [1, 2, 3, 4, 5, 6, 7, 8, 9];
                    return initQuiz();
                }
                
                const shuffled = shuffleArray(filteredPokemon);
                quizPokemon = shuffled.slice(0, Math.min(5, filteredPokemon.length));
                currentIndex = 0;
                selectedTypes = [];
                results = [];
                screen = 'quiz';
                render();
            } catch (error) {
                console.error('Error initializing quiz:', error);
                document.getElementById('app').innerHTML = `
                    <div class="min-h-screen p-8 flex items-center justify-center">
                        <div class="max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center">
                            <p class="text-xl text-red-600 mb-4">Error loading quiz</p>
                            <p class="text-gray-600">${error.message}</p>
                        </div>
                    </div>
                `;
            }
        }

        function setSpriteMode(mode) {
            spriteMode = mode;
            initQuiz();
        }

        function toggleType(type) {
            if (selectedTypes.includes(type)) {
                selectedTypes = selectedTypes.filter(t => t !== type);
            } else if (selectedTypes.length < 2) {
                selectedTypes.push(type);
            }
            render();
        }

        function submitAnswer() {
            if (selectedTypes.length === 0) return;

            const currentPokemon = quizPokemon[currentIndex];
            const correctTypes = currentPokemon.types.sort();
            const userTypes = [...selectedTypes].sort();
            const points = calculateScore(correctTypes, userTypes);

            results.push({
                pokemon: currentPokemon.name,
                correctTypes: correctTypes.join(', '),
                userTypes: userTypes.join(', '),
                points: points
            });

            selectedTypes = [];

            if (currentIndex < quizPokemon.length - 1) {
                currentIndex++;
                render();
            } else {
                submitToGoogleSheets();
            }
        }

        async function submitToGoogleSheets() {
            screen = 'submitting';
            render();

            const totalPoints = results.reduce((sum, r) => sum + r.points, 0);
            const maxPoints = quizPokemon.reduce((sum, p) => sum + (p.types.length === 1 ? 2 : 3), 0);

            const data = {
                timestamp: new Date().toISOString(),
                spriteMode: spriteMode,
                totalPoints: totalPoints,
                maxPoints: maxPoints,
                percentage: Math.round((totalPoints / maxPoints) * 100),
                responses: results
            };

            try {
                await fetch(GOOGLE_SHEET_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                setTimeout(() => {
                    screen = 'complete';
                    render();
                }, 200);
            } catch (error) {
                console.error('Error submitting:', error);
                setTimeout(() => {
                    screen = 'complete';
                    render();
                }, 200);
            }
        }

        function render() {
            const app = document.getElementById('app');

            if (screen === 'submitting') {
                app.innerHTML = `
                    <div class="min-h-screen p-8 flex items-center justify-center">
                        <div class="max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center">
                            <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-blue-500 mx-auto mb-4"></div>
                            <p class="text-xl text-gray-700">Analyzing your quiz resultsâ€”stand by, Trainer!</p>
                        </div>
                    </div>
                `;
                return;
            }

            if (screen === 'complete') {
                const totalPoints = results.reduce((sum, r) => sum + r.points, 0);
                const maxPoints = quizPokemon.reduce((sum, p) => sum + (p.types.length === 1 ? 2 : 3), 0);

                app.innerHTML = `
                    <div class="min-h-screen p-8 flex items-center justify-center">
                        <div class="max-w-md w-full bg-white rounded-lg shadow-xl p-8">
                            <div class="text-center">
                                <div class="text-6xl mb-4">âœ“</div>
                                <h1 class="text-3xl font-bold text-green-600 mb-4">Evaluation Complete</h1>
                                <p class="text-gray-600 mb-6">Your Trainer Rank has been recorded.</p>
                                
                                <div class="bg-blue-50 p-6 rounded-lg mb-6">
                                    <p class="text-lg text-gray-700 mb-2">Your Score:</p>
                                    <p class="text-4xl font-bold text-blue-600">${totalPoints}/${maxPoints}</p>
                                    <p class="text-gray-600 mt-2">${Math.round((totalPoints/maxPoints) * 100)}%</p>
                                </div>

                                <button onclick="initQuiz()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg">
                                    Take Quiz Again
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                return;
            }

 // Check if no generations are selected
 if (selectedGens.length === 0) {
                app.innerHTML = `
                <div class="sm:min-h-screen sm:p-8 sm:flex sm:items-center sm:justify-center">
                    <div class="w-full sm:max-w-4xl mx-auto">
                        <div class="bg-white rounded-lg shadow-xl p-2 sm:p-8">
                            <h1 class="text-3xl font-bold text-center mb-4 text-blue-900">PokÃ©mon Type Quiz</h1>
                                
                                <div class="flex justify-center gap-2 mb-6 flex-wrap">
                                    <button 
                                        onclick="setSpriteMode('default')"
                                        class="${spriteMode === 'default' ? 'bg-indigo-600' : 'bg-indigo-400'} hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        Default
                                    </button>
                                    <button 
                                        onclick="setSpriteMode('gbc')"
                                        class="${spriteMode === 'gbc' ? 'bg-blue-600' : 'bg-blue-400'} hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        Color
                                    </button>
                                    <button 
                                        onclick="setSpriteMode('gb')"
                                        class="${spriteMode === 'gb' ? 'bg-gray-600' : 'bg-gray-400'} hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        Grayscale
                                    </button>
                                    <button 
                                        onclick="setSpriteMode('3d')"
                                        class="${spriteMode === '3d' ? 'bg-purple-600' : 'bg-purple-400'} hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        3D
                                    </button>
                                    <button 
                                        onclick="setSpriteMode('card')"
                                        class="${spriteMode === 'card' ? 'bg-green-600' : 'bg-green-400'} hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        Card
                                    </button>
                                    <button 
                                        onclick="setSpriteMode('moves')"
                                        class="${spriteMode === 'moves' ? 'bg-orange-600' : 'bg-orange-400'} hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                    >
                                        Moves
                                    </button>
                                </div>
                                
                                <div class="mb-4 sm:mb-6">
                                <p class="text-center text-sm font-semibold text-gray-700 mb-3">Filter by Generation:</p>
                                <div class="max-w-5xl mx-auto px-2">
                                    <!-- ALL Toggle Switch -->
                                    <div class="flex justify-center mb-4">
                                        <button 
                                            onclick="toggleAllGens()"
                                            class="relative inline-flex items-center h-8 rounded-full w-16 transition-colors ${selectedGens.length === 9 ? 'bg-green-500' : 'bg-gray-300'}"
                                        >
                                            <span class="sr-only">Toggle All Generations</span>
                                            <span class="${selectedGens.length === 9 ? 'translate-x-9' : 'translate-x-1'} inline-block w-6 h-6 transform bg-white rounded-full transition-transform shadow-lg"></span>
                                        </button>
                                        <span class="ml-3 text-sm font-semibold ${selectedGens.length === 9 ? 'text-green-600' : 'text-gray-500'}">ALL</span>
                                    </div>
                                    
                                    <!-- Generation Timeline - Desktop (single row) -->
                                    <div class="hidden sm:block">
                                        <div class="relative pb-8">
                                            <!-- Timeline line -->
                                            <div class="absolute top-6 left-12 right-12 h-1 bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300"></div>
                                            
                                            <div class="relative flex justify-center items-start gap-3">
                                                ${[1, 2, 3, 4, 5, 6, 7, 8, 9].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-110 font-bold rounded-full w-12 h-12 transition-all shadow-lg z-10 flex items-center justify-center text-base"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-xs ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-2 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Generation Timeline - Mobile (two rows) -->
                                    <div class="sm:hidden space-y-6">
                                        <!-- First row: Gen 1-5 -->
                                        <div class="relative pb-6">
                                            <div class="absolute top-5 left-8 right-8 h-1 bg-gradient-to-r from-blue-300 to-purple-300"></div>
                                            <div class="relative flex justify-center items-start gap-2">
                                                ${[1, 2, 3, 4, 5].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-105 font-bold rounded-full w-10 h-10 transition-all shadow-lg z-10 flex items-center justify-center text-sm"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-[10px] ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-1 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                        
                                        <!-- Second row: Gen 6-9 -->
                                        <div class="relative pb-6">
                                            <div class="absolute top-5 left-12 right-12 h-1 bg-gradient-to-r from-purple-300 to-pink-300"></div>
                                            <div class="relative flex justify-center items-start gap-2">
                                                ${[6, 7, 8, 9].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-105 font-bold rounded-full w-10 h-10 transition-all shadow-lg z-10 flex items-center justify-center text-sm"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-[10px] ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-1 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center py-12 sm:min-h-[700px]  justify-center">
    <p class="text-xl text-gray-600 mb-4">Please select at least one generation to start the quiz</p>
</div>
                                   
                            </div>
                        </div>
                    </div>
                `;
                return;
            }

            const currentPokemon = quizPokemon[currentIndex];

            app.innerHTML = `
            <div class="min-h-screen p-0 sm:p-8 flex items-center justify-center">
                    <div class="w-full sm:max-w-4xl mx-auto">

                        <div class="bg-white rounded-lg shadow-xl p-2 sm:p-8">
                            <h1 class="text-3xl font-bold text-center mb-4 text-blue-900">PokÃ©mon Type Quiz</h1>
                            
                            <div class="flex justify-center gap-2 mb-6 flex-wrap">
                                <button 
                                    onclick="setSpriteMode('default')"
                                    class="${spriteMode === 'default' ? 'bg-indigo-600' : 'bg-indigo-400'} hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    Default
                                </button>
                                <button 
                                    onclick="setSpriteMode('gbc')"
                                    class="${spriteMode === 'gbc' ? 'bg-blue-600' : 'bg-blue-400'} hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    Color
                                </button>
                                <button 
                                    onclick="setSpriteMode('gb')"
                                    class="${spriteMode === 'gb' ? 'bg-gray-600' : 'bg-gray-400'} hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    Grayscale
                                </button>
                                <button 
                                    onclick="setSpriteMode('3d')"
                                    class="${spriteMode === '3d' ? 'bg-purple-600' : 'bg-purple-400'} hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    3D
                                </button>
                                <button 
                                    onclick="setSpriteMode('card')"
                                    class="${spriteMode === 'card' ? 'bg-green-600' : 'bg-green-400'} hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    Card
                                </button>
                                <button 
                                    onclick="setSpriteMode('moves')"
                                    class="${spriteMode === 'moves' ? 'bg-orange-600' : 'bg-orange-400'} hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors"
                                >
                                    Moves
                                </button>
                            </div>
                            
                            <div class="mb-4 sm:mb-6">
                                <p class="text-center text-sm font-semibold text-gray-700 mb-3">Filter by Generation:</p>
                                <div class="max-w-5xl mx-auto px-2">
                                    <!-- ALL Toggle Switch -->
                                    <div class="flex justify-center mb-4">
                                        <button 
                                            onclick="toggleAllGens()"
                                            class="relative inline-flex items-center h-8 rounded-full w-16 transition-colors ${selectedGens.length === 9 ? 'bg-green-500' : 'bg-gray-300'}"
                                        >
                                            <span class="sr-only">Toggle All Generations</span>
                                            <span class="${selectedGens.length === 9 ? 'translate-x-9' : 'translate-x-1'} inline-block w-6 h-6 transform bg-white rounded-full transition-transform shadow-lg"></span>
                                        </button>
                                        <span class="ml-3 text-sm font-semibold ${selectedGens.length === 9 ? 'text-green-600' : 'text-gray-500'}">ALL</span>
                                    </div>
                                    
                                    <!-- Generation Timeline - Desktop (single row) -->
                                    <div class="hidden sm:block">
                                        <div class="relative pb-8">
                                            <!-- Timeline line -->
                                            <div class="absolute top-6 left-12 right-12 h-1 bg-gradient-to-r from-blue-300 via-purple-300 to-pink-300"></div>
                                            
                                            <div class="relative flex justify-center items-start gap-3">
                                                ${[1, 2, 3, 4, 5, 6, 7, 8, 9].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-110 font-bold rounded-full w-12 h-12 transition-all shadow-lg z-10 flex items-center justify-center text-base"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-xs ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-2 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Generation Timeline - Mobile (two rows) -->
                                    <div class="sm:hidden space-y-6">
                                        <!-- First row: Gen 1-5 -->
                                        <div class="relative pb-6">
                                            <div class="absolute top-5 left-8 right-8 h-1 bg-gradient-to-r from-blue-300 to-purple-300"></div>
                                            <div class="relative flex justify-center items-start gap-2">
                                                ${[1, 2, 3, 4, 5].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-105 font-bold rounded-full w-10 h-10 transition-all shadow-lg z-10 flex items-center justify-center text-sm"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-[10px] ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-1 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                        
                                        <!-- Second row: Gen 6-9 -->
                                        <div class="relative pb-6">
                                            <div class="absolute top-5 left-12 right-12 h-1 bg-gradient-to-r from-purple-300 to-pink-300"></div>
                                            <div class="relative flex justify-center items-start gap-2">
                                                ${[6, 7, 8, 9].map(gen => `
                                                    <div class="flex flex-col items-center flex-shrink-0">
                                                        <button 
                                                            onclick="toggleGen(${gen})"
                                                            class="${selectedGens.includes(gen) ? 'bg-blue-600 text-white ring-4 ring-blue-300' : 'bg-white text-gray-400 border-2 border-gray-300'} hover:scale-105 font-bold rounded-full w-10 h-10 transition-all shadow-lg z-10 flex items-center justify-center text-sm"
                                                        >
                                                            ${gen}
                                                        </button>
                                                        <span class="text-[10px] ${selectedGens.includes(gen) ? 'text-blue-600 font-bold' : 'text-gray-400'} mt-1 whitespace-nowrap">${GEN_YEARS[gen]}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <p class="text-center text-gray-600 mb-3 sm:mb-6 text-sm sm:text-base">
Select up to 2 categories (elemental types) for each PokÃ©mon. 1 point for each correct category. Bonus points are rewarded for perfect single category or dual category matches.
</p>

<div class="sm:min-h-[700px]">
<div class="text-center mb-3 sm:mb-4 text-xs sm:text-sm text-gray-500">
    Question ${currentIndex + 1} of ${quizPokemon.length}
</div>

                            <div class="flex flex-col items-center mb-4 sm:mb-8">
                                ${spriteMode === 'default'
                                    ? `<img 
                                        src="${currentPokemon.sprite}" 
                                        onerror="this.onerror=null; this.src='${currentPokemon.spriteBackup}';"
                                        alt="${currentPokemon.name}"
                                        class="w-48 h-48 sm:w-64 sm:h-64 object-contain"
                                    />`
                                    : spriteMode === '3d' 
                                    ? `<video 
                                        src="${currentPokemon.sprite}" 
                                        loop 
                                        muted
                                        playsinline
                                        onmouseenter="this.play()"
                                        onmouseleave="this.pause()"
                                        ontouchstart="this.play()"
                                        onloadeddata="if(window.matchMedia('(hover: none)').matches) this.play()"
                                        class="w-48 h-48 sm:w-[300px] sm:h-[300px] max-w-full cursor-pointer"
                                    ></video>`
                                    : spriteMode === 'card'
                                    ? `<img 
                                        src="${currentPokemon.sprite}" 
                                        alt="${currentPokemon.name}"
                                        class="h-64 sm:h-[400px] w-auto max-w-full object-contain"
                                    />`
                                    : spriteMode === 'moves'
                                    ? `<img 
                                        src="${currentPokemon.sprite}" 
                                        alt="${currentPokemon.name}"
                                        class="h-80 sm:h-[500px] w-auto max-w-full object-contain"
                                    />`
                                    : `<img 
                                        src="${currentPokemon.sprite}" 
                                        alt="${currentPokemon.name}"
                                        class="w-32 h-32 sm:w-48 sm:h-48 pixelated"
                                    />`
                                }
                                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mt-1 sm:mt-4">${currentPokemon.name}</h2>
                            </div>
                           
                            <!-- Mobile grid -->
<div class="grid grid-cols-3 gap-x-2 gap-y-3 justify-items-center px-2 sm:hidden max-w-sm mx-auto">
  ${types.map(type => `
    <button 
      onclick="toggleType('${type}')"
      style="background-color: ${TYPE_COLORS[type]}; height: 46px; width: 110px;"
      class="type-btn ${selectedTypes.includes(type) ? 'selected' : ''} ${type === 'dark' ? 'text-gray-100' : ''}"
    >
      <span class="type-icon">${getIconChar(type)}</span>
      <span class="type-label">${type}</span>
    </button>
  `).join('')}
</div>

<!-- Desktop grid -->
<div class="hidden sm:grid sm:grid-cols-3 sm:gap-x-3 sm:gap-y-4 sm:justify-items-center sm:mx-auto sm:mb-6 sm:max-w-md">
  ${types.map(type => `
    <button 
      onclick="toggleType('${type}')"
      style="background-color: ${TYPE_COLORS[type]}; height: 36px; width: 120px;"
      class="type-btn ${selectedTypes.includes(type) ? 'selected' : ''} ${type === 'dark' ? 'text-gray-100' : ''}"
    >
      <span class="type-icon">${getIconChar(type)}</span>
      <span class="type-label">${type}</span>
    </button>
  `).join('')}
</div>








                            <div class="text-center mb-3 sm:mb-4">
                                <p class="text-sm sm:text-base text-gray-600">
                                    Selected: ${selectedTypes.length}/2
                                    ${selectedTypes.length > 0 ? `<span class="ml-2 font-semibold">(${selectedTypes.join(', ')})</span>` : ''}
                                </p>
                            </div>

                            <button
                                onclick="submitAnswer()"
                                ${selectedTypes.length === 0 ? 'disabled' : ''}
                                class="w-full font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-lg text-white text-base sm:text-lg ${
                                    selectedTypes.length === 0
                                        ? 'bg-gray-400 cursor-not-allowed'
                                        : 'bg-blue-500 hover:bg-blue-600'
                                }"
                            >
                                ${currentIndex < quizPokemon.length - 1 ? 'Next PokÃ©mon' : 'Submit Quiz'}
                            </button>
                        </div>
                    </div> 
                    </div>
                </div>
            `;
        }

        // Start the quiz when page loads
        window.onload = function() {
            try {
                initQuiz();
            } catch (error) {
                console.error('Error on load:', error);
                document.getElementById('app').innerHTML = `
                    <div class="min-h-screen p-8 flex items-center justify-center">
                        <div class="max-w-md w-full bg-white rounded-lg shadow-xl p-8 text-center">
                            <p class="text-xl text-red-600 mb-4">Error loading quiz</p>
                            <p class="text-gray-600">${error.message}</p>
                        </div>
                    </div>
                `;
            }
        };
    </script>
</body>
</html>