<script>
const folder = "svgs/"; 
const gallery = document.getElementById("gallery");

// Load list.json
fetch(folder + "list.json")
  .then(res => {
    if (!res.ok) throw new Error("list.json not found");
    return res.json();
  })
  .then(list => {
    // Sort alphabetically
    list.sort((a, b) => a.localeCompare(b, undefined, {sensitivity: 'base'}));

    list.forEach(name => {
      const card = document.createElement("div");
      card.className = "card";

      const img = document.createElement("img");
      img.src = folder + name;
      img.alt = name;

      // Handle missing images gracefully
      img.onerror = () => {
        img.src = ""; // or a placeholder image if you want
        card.style.display = "none"; // hide the card if the SVG is missing
        console.warn(`Missing SVG: ${name}`);
      };

      const label = document.createElement("div");
      label.className = "name";
      label.textContent = name;

      card.appendChild(img);
      card.appendChild(label);
      gallery.appendChild(card);
    });
  })
  .catch(err => {
    console.warn("Could not load SVG list:", err);
    gallery.textContent = "SVG gallery will load once list.json is available.";
  });
</script>
